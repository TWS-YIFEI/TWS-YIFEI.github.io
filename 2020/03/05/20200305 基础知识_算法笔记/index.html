<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'true', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-89376999-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-89376999-1');
</script>



  
  <title>基础知识_算法笔记 | YIFEI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="算法笔记。">
<meta name="keywords" content="算法,Algorithm,LeetCode">
<meta property="og:type" content="article">
<meta property="og:title" content="基础知识_算法笔记">
<meta property="og:url" content="http://taowusheng.cn/2020/03/05/20200305 基础知识_算法笔记/index.html">
<meta property="og:site_name" content="YIFEI">
<meta property="og:description" content="算法笔记。">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://taowusheng.cn/images_/2020_picture/20200305%20find_cycle_node.jpg">
<meta property="og:updated_time" content="2022-10-28T15:11:58.398Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="基础知识_算法笔记">
<meta name="twitter:description" content="算法笔记。">
<meta name="twitter:image" content="http://taowusheng.cn/images_/2020_picture/20200305%20find_cycle_node.jpg">
  
    <link rel="alternate" href="/atom.xml" title="YIFEI" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="/googleapis-fonts/fonts.css" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">YIFEI</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">每当我找到生命的意义，它就又变了...</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/links">Links</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://taowusheng.cn"></form>
      </div>
    </div>
  </div>
	
  <script>
    
    var number_of_banners = 8;
    var randnum = Math.floor(Math.random() * number_of_banners + 1);
    document.getElementById("banner").style.backgroundImage = "url(/css/images/banner" + randnum + ".jpg)";
    
</script>

</header>
      <div class="outer">
        <section id="main"><article id="post-20200305 基础知识_算法笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/05/20200305 基础知识_算法笔记/" class="article-date">
  <time datetime="2020-03-05T00:00:01.000Z" itemprop="datePublished">2020-03-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Summary/">Summary</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      基础知识_算法笔记
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
		<!-- Table of Contents -->
		
		  <div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
			<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#数字"><span class="toc-number">1.</span> <span class="toc-text">数字</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#偶数减半奇数减一"><span class="toc-number">1.1.</span> <span class="toc-text">偶数减半奇数减一</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#“按位乘积”与”按位和”的差值"><span class="toc-number">1.2.</span> <span class="toc-text">“按位乘积”与”按位和”的差值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#将k拆分为n个数之和"><span class="toc-number">1.3.</span> <span class="toc-text">将k拆分为n个数之和</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组"><span class="toc-number">2.</span> <span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3Sum"><span class="toc-number">2.1.</span> <span class="toc-text">3Sum</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#寻找特殊元素-位运算"><span class="toc-number">2.2.</span> <span class="toc-text">寻找特殊元素_位运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#数组异或"><span class="toc-number">2.3.</span> <span class="toc-text">数组异或</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#求每个元素在数组中的排行"><span class="toc-number">2.4.</span> <span class="toc-text">求每个元素在数组中的排行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#解码数组"><span class="toc-number">2.5.</span> <span class="toc-text">解码数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#统计位数为偶数的元素个数"><span class="toc-number">2.6.</span> <span class="toc-text">统计位数为偶数的元素个数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#最大两元素的乘积"><span class="toc-number">2.7.</span> <span class="toc-text">最大两元素的乘积</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#给定区间问覆盖某点的区间个数"><span class="toc-number">2.8.</span> <span class="toc-text">给定区间问覆盖某点的区间个数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#最大连续子序和"><span class="toc-number">2.9.</span> <span class="toc-text">最大连续子序和</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#重排数组：按要求重排"><span class="toc-number">2.10.</span> <span class="toc-text">重排数组：按要求重排</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#重排数组：奇偶交替"><span class="toc-number">2.11.</span> <span class="toc-text">重排数组：奇偶交替</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#重排数组：sort排序"><span class="toc-number">2.12.</span> <span class="toc-text">重排数组：sort排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#单增数组，前后两段交换后，找最大元素"><span class="toc-number">2.13.</span> <span class="toc-text">单增数组，前后两段交换后，找最大元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#寻找数组中任意一个峰值"><span class="toc-number">2.14.</span> <span class="toc-text">寻找数组中任意一个峰值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#无序数组查找中位数"><span class="toc-number">2.15.</span> <span class="toc-text">无序数组查找中位数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#两个有序数组查找中位数"><span class="toc-number">2.16.</span> <span class="toc-text">两个有序数组查找中位数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#简单洗牌"><span class="toc-number">2.17.</span> <span class="toc-text">简单洗牌</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#前缀和"><span class="toc-number">2.18.</span> <span class="toc-text">前缀和</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#区间和"><span class="toc-number">2.19.</span> <span class="toc-text">区间和</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#矩阵"><span class="toc-number">3.</span> <span class="toc-text">矩阵</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#填充螺旋矩阵"><span class="toc-number">3.1.</span> <span class="toc-text">填充螺旋矩阵</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#矩阵每行加一或每列加一"><span class="toc-number">3.2.</span> <span class="toc-text">矩阵每行加一或每列加一</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#水平翻转-按位翻转"><span class="toc-number">3.3.</span> <span class="toc-text">水平翻转|按位翻转</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#变换01矩阵使得行列都为偶数个1"><span class="toc-number">3.4.</span> <span class="toc-text">变换01矩阵使得行列都为偶数个1</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数学"><span class="toc-number">4.</span> <span class="toc-text">数学</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sqrt"><span class="toc-number">4.1.</span> <span class="toc-text">sqrt</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#素数筛法"><span class="toc-number">4.2.</span> <span class="toc-text">素数筛法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#快速幂"><span class="toc-number">4.3.</span> <span class="toc-text">快速幂</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#几何坐标系"><span class="toc-number">4.4.</span> <span class="toc-text">几何坐标系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#计算逆波兰表达式"><span class="toc-number">4.5.</span> <span class="toc-text">计算逆波兰表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#链表二进制转十进制"><span class="toc-number">4.6.</span> <span class="toc-text">链表二进制转十进制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#内部排序"><span class="toc-number">5.</span> <span class="toc-text">内部排序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#快速排序-5种实现方式"><span class="toc-number">5.1.</span> <span class="toc-text">快速排序(5种实现方式)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#冒泡排序"><span class="toc-number">5.2.</span> <span class="toc-text">冒泡排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#插入排序"><span class="toc-number">5.3.</span> <span class="toc-text">插入排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#选择排序"><span class="toc-number">5.4.</span> <span class="toc-text">选择排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#树型选择排序"><span class="toc-number">5.5.</span> <span class="toc-text">树型选择排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#归并排序"><span class="toc-number">5.6.</span> <span class="toc-text">归并排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#堆排序"><span class="toc-number">5.7.</span> <span class="toc-text">堆排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#桶排序"><span class="toc-number">5.8.</span> <span class="toc-text">桶排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#希尔排序"><span class="toc-number">5.9.</span> <span class="toc-text">希尔排序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#外部排序"><span class="toc-number">6.</span> <span class="toc-text">外部排序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#多路平衡归并排序算法"><span class="toc-number">6.1.</span> <span class="toc-text">多路平衡归并排序算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#置换选择排序算法"><span class="toc-number">6.2.</span> <span class="toc-text">置换选择排序算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#最佳归并树"><span class="toc-number">6.3.</span> <span class="toc-text">最佳归并树</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#链表"><span class="toc-number">7.</span> <span class="toc-text">链表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#链表模拟的大数加法"><span class="toc-number">7.1.</span> <span class="toc-text">链表模拟的大数加法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#合并两条有序链表"><span class="toc-number">7.2.</span> <span class="toc-text">合并两条有序链表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#反转链表的m到n个节点-0-lt-m-lt-n-lt-lenght"><span class="toc-number">7.3.</span> <span class="toc-text">反转链表的m到n个节点(0&lt;=m&lt;=n&lt;=lenght)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#判断Y型链表的第一个公共结点"><span class="toc-number">7.4.</span> <span class="toc-text">判断Y型链表的第一个公共结点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#链表中环的入口"><span class="toc-number">7.5.</span> <span class="toc-text">链表中环的入口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#单链表归并排序"><span class="toc-number">7.6.</span> <span class="toc-text">单链表归并排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#归并多条链表"><span class="toc-number">7.7.</span> <span class="toc-text">归并多条链表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#复制带random指针的链表"><span class="toc-number">7.8.</span> <span class="toc-text">复制带random指针的链表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字符串"><span class="toc-number">8.</span> <span class="toc-text">字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#分割平衡串"><span class="toc-number">8.1.</span> <span class="toc-text">分割平衡串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#替换字符串-处理IP地址"><span class="toc-number">8.2.</span> <span class="toc-text">替换字符串|处理IP地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#最长不重复子串"><span class="toc-number">8.3.</span> <span class="toc-text">最长不重复子串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#kmp模式匹配"><span class="toc-number">8.4.</span> <span class="toc-text">kmp模式匹配</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#字符串逆置"><span class="toc-number">8.5.</span> <span class="toc-text">字符串逆置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#其他"><span class="toc-number">8.6.</span> <span class="toc-text">其他</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#动态规划"><span class="toc-number">9.</span> <span class="toc-text">动态规划</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#01背包"><span class="toc-number">9.1.</span> <span class="toc-text">01背包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#完全背包"><span class="toc-number">9.2.</span> <span class="toc-text">完全背包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#多重背包"><span class="toc-number">9.3.</span> <span class="toc-text">多重背包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#分割字符串"><span class="toc-number">9.4.</span> <span class="toc-text">分割字符串</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#树"><span class="toc-number">10.</span> <span class="toc-text">树</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#二叉树"><span class="toc-number">10.1.</span> <span class="toc-text">二叉树</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#先序遍历-三种方法"><span class="toc-number">10.1.1.</span> <span class="toc-text">先序遍历(三种方法)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#中序遍历-三种方法"><span class="toc-number">10.1.2.</span> <span class="toc-text">中序遍历(三种方法)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#后序遍历-三种方法"><span class="toc-number">10.1.3.</span> <span class="toc-text">后序遍历(三种方法)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#层次遍历-分层返回"><span class="toc-number">10.1.4.</span> <span class="toc-text">层次遍历(分层返回)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#遍历相关变型"><span class="toc-number">10.1.5.</span> <span class="toc-text">遍历相关变型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#图"><span class="toc-number">11.</span> <span class="toc-text">图</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#有向图"><span class="toc-number">11.1.</span> <span class="toc-text">有向图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#无向图"><span class="toc-number">11.2.</span> <span class="toc-text">无向图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#复杂数据结构"><span class="toc-number">12.</span> <span class="toc-text">复杂数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#树状数组"><span class="toc-number">12.1.</span> <span class="toc-text">树状数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#红黑树"><span class="toc-number">12.2.</span> <span class="toc-text">红黑树</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#线段树"><span class="toc-number">12.3.</span> <span class="toc-text">线段树</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#单点修改，区间查询的区间和问题"><span class="toc-number">12.3.1.</span> <span class="toc-text">单点修改，区间查询的区间和问题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#区间修改，单点查询"><span class="toc-number">12.3.2.</span> <span class="toc-text">区间修改，单点查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#区间修改，区间查询"><span class="toc-number">12.3.3.</span> <span class="toc-text">区间修改，区间查询</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#排列组合"><span class="toc-number">13.</span> <span class="toc-text">排列组合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#全错排问题"><span class="toc-number">13.1.</span> <span class="toc-text">全错排问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他面试题"><span class="toc-number">14.</span> <span class="toc-text">其他面试题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#大数组排序"><span class="toc-number">14.1.</span> <span class="toc-text">大数组排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#topK问题"><span class="toc-number">14.2.</span> <span class="toc-text">topK问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#页面置换算法"><span class="toc-number">14.3.</span> <span class="toc-text">页面置换算法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#LRU-最近最久未使用"><span class="toc-number">14.3.1.</span> <span class="toc-text">LRU(最近最久未使用)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#LFU-最少使用算法"><span class="toc-number">14.3.2.</span> <span class="toc-text">LFU(最少使用算法)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#给定0返回1-amp-给定1返回0"><span class="toc-number">14.4.</span> <span class="toc-text">给定0返回1&amp;给定1返回0</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#计算输入的位数"><span class="toc-number">14.5.</span> <span class="toc-text">计算输入的位数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#常见的树结构"><span class="toc-number">14.6.</span> <span class="toc-text">常见的树结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#莫尔斯编码-去重"><span class="toc-number">14.7.</span> <span class="toc-text">莫尔斯编码|去重</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#场景题"><span class="toc-number">15.</span> <span class="toc-text">场景题</span></a></li></ol>
		  </div>
		
        <p>算法笔记。<br><a id="more"></a></p>
<h3 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h3><h4 id="偶数减半奇数减一"><a href="#偶数减半奇数减一" class="headerlink" title="偶数减半奇数减一"></a>偶数减半奇数减一</h4><ul>
<li><a href="https://leetcode.com/problems/number-of-steps-to-reduce-a-number-to-zero/" target="_blank" rel="noopener">1342. Number of Steps to Reduce a Number to Zero</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numberOfSteps</span> <span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> count=<span class="number">0</span>,tmp=num;</span><br><span class="line">        <span class="keyword">while</span>(tmp)&#123;</span><br><span class="line">            <span class="keyword">if</span>(tmp&amp;<span class="number">1</span>)&#123;</span><br><span class="line">                tmp--;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                tmp/=<span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="“按位乘积”与”按位和”的差值"><a href="#“按位乘积”与”按位和”的差值" class="headerlink" title="“按位乘积”与”按位和”的差值"></a>“按位乘积”与”按位和”的差值</h4><ul>
<li><a href="https://leetcode.com/problems/subtract-the-product-and-sum-of-digits-of-an-integer/" target="_blank" rel="noopener">1281. Subtract the Product and Sum of Digits of an Integer</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">subtractProductAndSum</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> product=<span class="number">1</span>,sum=<span class="number">0</span>,tmp=n;</span><br><span class="line">        <span class="keyword">while</span>(tmp)&#123;</span><br><span class="line">            product*=(tmp%<span class="number">10</span>);</span><br><span class="line">            sum+=tmp%<span class="number">10</span>;</span><br><span class="line">            tmp/=<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> product-sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="将k拆分为n个数之和"><a href="#将k拆分为n个数之和" class="headerlink" title="将k拆分为n个数之和"></a>将k拆分为n个数之和</h4><ul>
<li>将k拆分为n个数之和，输出所有方案。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; num(<span class="number">10005</span>,<span class="number">0</span>);</span><br><span class="line"><span class="keyword">int</span> pos=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">calK</span><span class="params">(<span class="keyword">int</span> k,<span class="keyword">int</span> last)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;pos;i++)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;num[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(k&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;<span class="comment">//k&gt;0</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=last;i&lt;=k;i++)&#123;</span><br><span class="line">            num[pos++]=i;</span><br><span class="line">            calK(k-i,i);</span><br><span class="line">            pos--;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;k;</span><br><span class="line">        calK(k,<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><h4 id="3Sum"><a href="#3Sum" class="headerlink" title="3Sum"></a>3Sum</h4><ul>
<li><a href="https://leetcode.com/problems/3sum/description/" target="_blank" rel="noopener">15. 3Sum</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; threeSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</span><br><span class="line">        <span class="built_in">set</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res_tmp;</span><br><span class="line">        <span class="keyword">if</span>(nums.size()&lt;=<span class="number">2</span>) <span class="keyword">return</span> res;</span><br><span class="line">        sort(nums.begin(),nums.end());</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.size()<span class="number">-2</span>;++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span> &amp;&amp; nums[i]==nums[i<span class="number">-1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] &gt; <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">int</span> left=i+<span class="number">1</span>, right=nums.size()<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[left]+nums[right] &gt; (<span class="number">0</span>-nums[i]))&#123;</span><br><span class="line">                    right--;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[left]+nums[right] &lt; (<span class="number">0</span>-nums[i]))&#123;</span><br><span class="line">                    left++;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[left]+nums[right] == (<span class="number">0</span>-nums[i]))&#123;</span><br><span class="line">                    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</span><br><span class="line">                    tmp.push_back(nums[i]);</span><br><span class="line">                    tmp.push_back(nums[left]);</span><br><span class="line">                    tmp.push_back(nums[right]);</span><br><span class="line">                    res_tmp.insert(tmp);</span><br><span class="line">                    right--;</span><br><span class="line">                    left++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> a:res_tmp)&#123;</span><br><span class="line">            res.push_back(a);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="寻找特殊元素-位运算"><a href="#寻找特殊元素-位运算" class="headerlink" title="寻找特殊元素_位运算"></a>寻找特殊元素_位运算</h4><ul>
<li><p><a href="https://leetcode.com/problems/single-number/" target="_blank" rel="noopener">136. Single Number</a><br>题意：一个元素出现1次，其他元素都出现2次。<br>思路：<br>  1.可以借助异或的特性，将所有元素异或一遍，剩下的就是出现一次的。<br>  2.扩展一下题目：其他元素都出现偶数次都可以这种方法解决。<br>  3.这种方法的本质是记录二进制上每一位出现的次数，可以看下一题。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//solution 1</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> a:nums)&#123;</span><br><span class="line">            res^=a;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//solution 2</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> accumulate(nums.begin(), nums.end(),<span class="number">0</span>,bit_xor&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/single-number-ii/" target="_blank" rel="noopener">137. Single Number II</a><br>题意：数组中有一个元素出现一次，其他都出现3次，找出出现一次的。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//法一：出现一次的位用one记录，2次3次分别用two、three记录。注意先更新two再更新one。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> one=<span class="number">0</span>,two=<span class="number">0</span>,three=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.size();i++)&#123;</span><br><span class="line">            two |= one&amp;nums[i];</span><br><span class="line">            one ^= nums[i];</span><br><span class="line">            three = one&amp;two;</span><br><span class="line">            one &amp;= ~three;</span><br><span class="line">            two &amp;= ~three;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> one;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//法二：适用于一个元素出现1次，其他出现n次。(n是奇数)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> bit[<span class="number">32</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">32</span>;i++)&#123;   </span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> a:nums)&#123;</span><br><span class="line">                bit[i] += (a&gt;&gt;i) &amp; <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            res |= (bit[i]%<span class="number">3</span>) &lt;&lt; i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//法二优化版：优化掉数组</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res=<span class="number">0</span>,count=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">32</span>;i++)&#123;  </span><br><span class="line">            count=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> a:nums)&#123;</span><br><span class="line">                count += (a&gt;&gt;i) &amp; <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            res |= (count%<span class="number">3</span>) &lt;&lt; i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//法四：https://www.cnblogs.com/grandyang/p/4263927.html</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/single-number-iii/" target="_blank" rel="noopener">260. Single Number III</a><br>题意：有两个元素a,b出现一次，其他元素都出现2次。<br>思路：像之前一样异或一遍，只能得到两个出现一次的元素的异或值，这个值肯定不为0，代表a,b肯定有一位是不一样的，所以利用这个不同，将a和b划分到两组元素中，然后用之前的方法异或一遍就得到两个值了。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; singleNumber(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="keyword">int</span> xorsum=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res(<span class="number">2</span>,<span class="number">0</span>);</span><br><span class="line">        xorsum=accumulate(nums.begin(),nums.end(),<span class="number">0</span>,bit_xor&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">        <span class="comment">//xorsum&amp;=(-xorsum);</span></span><br><span class="line">        xorsum&amp;=~(xorsum<span class="number">-1</span>);<span class="comment">//这里得到的是a和b二进制位中最右边不同的一位</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> a:nums)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a&amp;xorsum)&#123;</span><br><span class="line">                res[<span class="number">0</span>]^=a;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                res[<span class="number">1</span>]^=a;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="数组异或"><a href="#数组异或" class="headerlink" title="数组异或"></a>数组异或</h4><ul>
<li><a href="https://leetcode.com/problems/xor-operation-in-an-array/" target="_blank" rel="noopener">1486. XOR Operation in an Array</a><br>题意：给start和n，构造start为起点，每个元素间隔2，长度为n的数组，求所有元素异或的结果。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// https://www.cnblogs.com/hellojamest/p/13179163.html</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">xorOperation</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>((start/<span class="number">2</span>)%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">            result=xorA(n,start/<span class="number">2</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            result=(start/<span class="number">2</span><span class="number">-1</span>) ^ xorA(n+<span class="number">1</span>,start/<span class="number">2</span><span class="number">-1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        result&lt;&lt;=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(n&amp;start&amp;<span class="number">1</span>) result++;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">xorA</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> start)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result=(n/<span class="number">2</span>)&amp;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">1</span>)&#123;</span><br><span class="line">            result^=start+n<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">public:</span></span><br><span class="line"><span class="comment">    int xorOperation(int n, int start) &#123;</span></span><br><span class="line"><span class="comment">        int result=0;</span></span><br><span class="line"><span class="comment">        for(int i=0;i&lt;n;i++)&#123;</span></span><br><span class="line"><span class="comment">            result^=(start+2*i);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return result;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="求每个元素在数组中的排行"><a href="#求每个元素在数组中的排行" class="headerlink" title="求每个元素在数组中的排行"></a>求每个元素在数组中的排行</h4><ul>
<li><a href="https://leetcode.com/problems/how-many-numbers-are-smaller-than-the-current-number/" target="_blank" rel="noopener">1365. How Many Numbers Are Smaller Than the Current Number</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; smallerNumbersThanCurrent(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vi(<span class="number">101</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> a:nums)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=a+<span class="number">1</span>;i&lt;=<span class="number">100</span>;i++)&#123;</span><br><span class="line">                vi[i]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.size();i++)&#123;</span><br><span class="line">            res.push_back(vi[nums[i]]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="解码数组"><a href="#解码数组" class="headerlink" title="解码数组"></a>解码数组</h4><ul>
<li><a href="https://leetcode.com/problems/decompress-run-length-encoded-list/" target="_blank" rel="noopener">1313. Decompress Run-Length Encoded List</a><br>题意：给予[1,2,3,4]，代表1个2,3个四，所以返回[2,4,4,4].<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; decompressRLElist(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.size();i+=<span class="number">2</span>)&#123;</span><br><span class="line">            res.insert(res.end(),nums[i],nums[i+<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="统计位数为偶数的元素个数"><a href="#统计位数为偶数的元素个数" class="headerlink" title="统计位数为偶数的元素个数"></a>统计位数为偶数的元素个数</h4><ul>
<li><a href="https://leetcode.com/problems/find-numbers-with-even-number-of-digits/" target="_blank" rel="noopener">1295. Find Numbers with Even Number of Digits</a><br>题意：计算数组里位数是偶数的元素有多少个<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findNumbers</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> digitsNumber=<span class="number">0</span>,res=<span class="number">0</span>,tmp=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.size();i++)&#123;</span><br><span class="line">            digitsNumber=<span class="number">0</span>;</span><br><span class="line">            tmp=nums[i];</span><br><span class="line">            <span class="keyword">while</span>(tmp)&#123;</span><br><span class="line">                tmp/=<span class="number">10</span>;</span><br><span class="line">                digitsNumber++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(!(digitsNumber&amp;<span class="number">1</span>)) res++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="最大两元素的乘积"><a href="#最大两元素的乘积" class="headerlink" title="最大两元素的乘积"></a>最大两元素的乘积</h4><ul>
<li><a href="https://leetcode.com/problems/maximum-product-of-two-elements-in-an-array/" target="_blank" rel="noopener">1464. Maximum Product of Two Elements in an Array</a><br>题意：找出最大的两个元素a和b，计算(a-1)*(b-1).<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxProduct</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> maxx1=max(nums[<span class="number">0</span>],nums[<span class="number">1</span>]),maxx2=min(nums[<span class="number">0</span>],nums[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;nums.size();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i]&gt;maxx1)&#123;</span><br><span class="line">                maxx2=maxx1;</span><br><span class="line">                maxx1=nums[i];</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[i]&lt;=maxx1)&#123;</span><br><span class="line">                maxx2=max(maxx2,nums[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (maxx1<span class="number">-1</span>)*(maxx2<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="给定区间问覆盖某点的区间个数"><a href="#给定区间问覆盖某点的区间个数" class="headerlink" title="给定区间问覆盖某点的区间个数"></a>给定区间问覆盖某点的区间个数</h4><ul>
<li><a href="https://leetcode.com/problems/number-of-students-doing-homework-at-a-given-time/" target="_blank" rel="noopener">1450. Number of Students Doing Homework at a Given Time</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">busyStudent</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; startTime, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; endTime, <span class="keyword">int</span> queryTime)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;startTime.size();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(queryTime&gt;=startTime[i] &amp;&amp; queryTime&lt;=endTime[i]) ++res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="最大连续子序和"><a href="#最大连续子序和" class="headerlink" title="最大连续子序和"></a>最大连续子序和</h4><ul>
<li><a href="https://leetcode.com/problems/maximum-subarray/" target="_blank" rel="noopener">53. Maximum Subarray</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> maxsum=INT_MIN,maxx=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.size();i++)&#123;</span><br><span class="line">            maxx=max(maxx,<span class="number">0</span>);</span><br><span class="line">            maxx+=nums[i];</span><br><span class="line">            maxsum=max(maxsum,maxx);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxsum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="重排数组：按要求重排"><a href="#重排数组：按要求重排" class="headerlink" title="重排数组：按要求重排"></a>重排数组：按要求重排</h4><ul>
<li><a href="https://leetcode.com/problems/create-target-array-in-the-given-order/" target="_blank" rel="noopener">1389. Create Target Array in the Given Order</a><br>Input: nums = [0,1,2,3,4], index = [0,1,2,2,1]<br>Output: [0,4,1,3,2]<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; createTargetArray(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; index) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;index.size();i++)&#123;</span><br><span class="line">            res.insert(res.begin()+index[i],nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="重排数组：奇偶交替"><a href="#重排数组：奇偶交替" class="headerlink" title="重排数组：奇偶交替"></a>重排数组：奇偶交替</h4><ul>
<li><p><a href="https://leetcode.com/problems/sort-array-by-parity-ii/" target="_blank" rel="noopener">922. Sort Array By Parity II</a></p>
<p>题意：奇数放到奇数位，偶数放到偶数位，顺序无所谓。给定数组一定是偶数个元素，奇偶数相同。</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; sortArrayByParityII(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; num) &#123;</span><br><span class="line">        <span class="keyword">if</span>(num.size()==<span class="number">0</span>) <span class="keyword">return</span> num;</span><br><span class="line">        <span class="keyword">int</span> odd=<span class="number">1</span>,even=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(odd&lt;num.size() &amp;&amp; even&lt;num.size())&#123;</span><br><span class="line">            <span class="keyword">while</span>(odd&lt;num.size() &amp;&amp; num[odd]%<span class="number">2</span>==<span class="number">1</span>) odd+=<span class="number">2</span>;<span class="comment">//注意while中的判断顺序</span></span><br><span class="line">            <span class="keyword">while</span>(even&lt;num.size() &amp;&amp; num[even]%<span class="number">2</span>==<span class="number">0</span>) even+=<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(odd&gt;=num.size() || even&gt;=num.size()) <span class="keyword">return</span> num;</span><br><span class="line">            swap(num[odd],num[even]);</span><br><span class="line">            odd+=<span class="number">2</span>,even+=<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="重排数组：sort排序"><a href="#重排数组：sort排序" class="headerlink" title="重排数组：sort排序"></a>重排数组：sort排序</h4><ul>
<li><a href="https://leetcode.com/problems/largest-number/" target="_blank" rel="noopener">179. Largest Number</a><br>题意：重排数组，使得重排后”连接数组”组成的数字最大。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">largestNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> zeronum=<span class="number">0</span>;</span><br><span class="line">        sort(nums.begin(),nums.end(),[&amp;](<span class="keyword">int</span> a,<span class="keyword">int</span> b)&#123;</span><br><span class="line">            <span class="keyword">return</span> (to_string(a)+to_string(b))&gt;(to_string(b)+to_string(a));</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">if</span>(all_of(nums.begin(),nums.end(),[](<span class="keyword">int</span> i)&#123;<span class="keyword">return</span> i==<span class="number">0</span>;&#125;)) <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">        <span class="built_in">ostringstream</span> res;</span><br><span class="line">        copy(nums.begin(),nums.end(),ostream_iterator&lt;<span class="keyword">int</span>&gt;(res,<span class="string">""</span>));</span><br><span class="line">        <span class="keyword">return</span> res.str();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="单增数组，前后两段交换后，找最大元素"><a href="#单增数组，前后两段交换后，找最大元素" class="headerlink" title="单增数组，前后两段交换后，找最大元素"></a>单增数组，前后两段交换后，找最大元素</h4><ul>
<li><a href="https://leetcode.com/problems/search-in-rotated-sorted-array/" target="_blank" rel="noopener">33. Search in Rotated Sorted Array</a><br>思路：二分法。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left=<span class="number">0</span>,right=nums.size()<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">            <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid]==target) <span class="keyword">return</span> mid;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid]&gt;=nums[left])&#123;</span><br><span class="line">                <span class="keyword">if</span>(target&gt;=nums[left] &amp;&amp; target&lt;=nums[mid])&#123;</span><br><span class="line">                    right=mid<span class="number">-1</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    left=mid+<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(target&gt;=nums[mid] &amp;&amp; target&lt;=nums[right])&#123;</span><br><span class="line">                    left=mid+<span class="number">1</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    right=mid<span class="number">-1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(nums[left]==target)&#123;</span><br><span class="line">            <span class="keyword">return</span> left;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="寻找数组中任意一个峰值"><a href="#寻找数组中任意一个峰值" class="headerlink" title="寻找数组中任意一个峰值"></a>寻找数组中任意一个峰值</h4><ul>
<li><a href="https://leetcode.com/problems/find-peak-element/" target="_blank" rel="noopener">162. Find Peak Element</a><br>题意：数组中寻找任意一个峰值，数组的每个相邻元素都不相等。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//tc：logn递归版</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findPeakElement</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> findNum(nums,<span class="number">0</span>,nums.size()<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findNum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;num,<span class="keyword">int</span> s,<span class="keyword">int</span> e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>((e-s)==<span class="number">0</span>) <span class="keyword">return</span> e;</span><br><span class="line">        <span class="keyword">if</span>((e-s)==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(num[s]&lt;num[e])&#123;</span><br><span class="line">                <span class="keyword">return</span> e;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> s;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;   </span><br><span class="line">        <span class="keyword">int</span> mid=s+(e-s)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(num[mid<span class="number">-1</span>]&lt;num[mid] &amp;&amp; num[mid+<span class="number">1</span>]&lt;num[mid])&#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(num[mid<span class="number">-1</span>]&lt;num[mid] &amp;&amp; num[mid+<span class="number">1</span>]&gt;num[mid])&#123;</span><br><span class="line">            <span class="keyword">return</span> findNum(num,mid+<span class="number">1</span>,e);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(num[mid<span class="number">-1</span>]&gt;num[mid] &amp;&amp; num[mid+<span class="number">1</span>]&lt;num[mid])&#123;</span><br><span class="line">            <span class="keyword">return</span> findNum(num,s,mid);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> findNum(num,s,mid);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//tc：logn迭代二分</span></span><br><span class="line"><span class="comment">//1.采用左闭右开区间。2.区间只有一个值是终止二分。3.mid=(s+e)/2时，左区间是[s,mid),右区间是[mid,e)。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findPeakElement</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> s=<span class="number">0</span>,e=nums.size();</span><br><span class="line">        <span class="keyword">while</span>(s+<span class="number">1</span>&lt;e)&#123;</span><br><span class="line">            <span class="keyword">int</span> mid=(e+s)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid<span class="number">-1</span>]&lt;nums[mid])&#123;</span><br><span class="line">                s=mid;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                e=mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="无序数组查找中位数"><a href="#无序数组查找中位数" class="headerlink" title="无序数组查找中位数"></a>无序数组查找中位数</h4><p><strong>内存够用</strong></p>
<ul>
<li>转为topK问题,借助快速排序思想，当第K大的数归位即退出条件。</li>
</ul>
<p><strong>内存不够用</strong></p>
<ul>
<li>分桶法，先确定n个数的最小值最大值范围min~max,然后将该范围划分为m份，之后遍历所有数，将每个数字按照符合的范围放到相应文件。(注意要确保每个文件中的数据能在内存放下)</li>
</ul>
<h4 id="两个有序数组查找中位数"><a href="#两个有序数组查找中位数" class="headerlink" title="两个有序数组查找中位数"></a>两个有序数组查找中位数</h4><ul>
<li><a href="https://leetcode.com/problems/median-of-two-sorted-arrays/" target="_blank" rel="noopener">4. Median of Two Sorted Arrays</a><br>标签：二分、中位数。<br>思路：题目的关键在于寻找两个数组分别的分割处，可以通过二分较小数组的分割处，来寻找满足条件的分割位置，获取到两个数组的分割位置了，分割位置两边的数就是关键。<br>参考：<a href="https://www.youtube.com/watch?v=LPFhl65R7ww&amp;t=1013s" target="_blank" rel="noopener">https://www.youtube.com/watch?v=LPFhl65R7ww&amp;t=1013s</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m=nums1.size(),n=nums2.size();</span><br><span class="line">        <span class="keyword">if</span>(m&gt;n) <span class="keyword">return</span> findMedianSortedArrays(nums2,nums1);</span><br><span class="line">        <span class="keyword">int</span> start=<span class="number">0</span>,end=nums1.size();</span><br><span class="line">        <span class="keyword">while</span>(start&lt;=end)&#123;</span><br><span class="line">            <span class="keyword">int</span> partitionX=start+(end-start)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">int</span> partitionY=(m+n+<span class="number">1</span>)/<span class="number">2</span>-partitionX;</span><br><span class="line">            <span class="keyword">int</span> xleftmax=(partitionX==<span class="number">0</span>?<span class="built_in">std</span>::numeric_limits&lt;<span class="keyword">int</span>&gt;::min():nums1[partitionX<span class="number">-1</span>]);</span><br><span class="line">            <span class="keyword">int</span> xrightmin=(partitionX==m?<span class="built_in">std</span>::numeric_limits&lt;<span class="keyword">int</span>&gt;::max():nums1[partitionX]);</span><br><span class="line">            <span class="keyword">int</span> yleftmax=(partitionY==<span class="number">0</span>?<span class="built_in">std</span>::numeric_limits&lt;<span class="keyword">int</span>&gt;::min():nums2[partitionY<span class="number">-1</span>]);</span><br><span class="line">            <span class="keyword">int</span> yrightmin=(partitionY==n?<span class="built_in">std</span>::numeric_limits&lt;<span class="keyword">int</span>&gt;::max():nums2[partitionY]);</span><br><span class="line">            <span class="keyword">if</span>(xleftmax&lt;=yrightmin &amp;&amp; yleftmax&lt;=xrightmin)&#123;</span><br><span class="line">                <span class="keyword">if</span>((m+n)%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> (max(xleftmax,yleftmax)+min(xrightmin,yrightmin))*<span class="number">1.0</span>/<span class="number">2</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> max(xleftmax,yleftmax);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(xleftmax&lt;=yrightmin)&#123;</span><br><span class="line">                start=partitionX+<span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                end=partitionX<span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="简单洗牌"><a href="#简单洗牌" class="headerlink" title="简单洗牌"></a>简单洗牌</h4><ul>
<li><a href="https://leetcode.com/problems/shuffle-the-array/" target="_blank" rel="noopener">1470. Shuffle the Array</a><br>题意：[x1,x2,…,xn,y1,y2,…,yn] –&gt; [x1,y1,x2,y2,…,xn,yn]。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tc:o(n), sc:o(n)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; shuffle(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result(<span class="number">2</span>*n,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            result[<span class="number">2</span>*i]=nums[i];</span><br><span class="line">            result[<span class="number">2</span>*i+<span class="number">1</span>]=nums[n+i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// tc:o(n), sc:o(1)</span></span><br><span class="line"><span class="comment">// 因为每个数最大是1000，先用后半段的数暂时储存前半段，然后从前往后挨个配置</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; shuffle(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=n;i&lt;nums.size();i++)&#123;</span><br><span class="line">            nums[i]=nums[i]*<span class="number">10000</span>+nums[i-n];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.size();i+=<span class="number">2</span>)&#123;</span><br><span class="line">            nums[i]=nums[n+i/<span class="number">2</span>]%<span class="number">10000</span>;</span><br><span class="line">            nums[i+<span class="number">1</span>]=nums[n+i/<span class="number">2</span>]/<span class="number">10000</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="前缀和"><a href="#前缀和" class="headerlink" title="前缀和"></a>前缀和</h4><ul>
<li><a href="https://leetcode.com/problems/running-sum-of-1d-array/" target="_blank" rel="noopener">1480. Running Sum of 1d Array</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; runningSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result(nums);</span><br><span class="line">        <span class="keyword">if</span>(nums.size()==<span class="number">0</span>) <span class="keyword">return</span> result;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;result.size();i++)&#123;</span><br><span class="line">            result[i]+=result[i<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="区间和"><a href="#区间和" class="headerlink" title="区间和"></a>区间和</h4><ul>
<li><a href="https://leetcode.com/problems/range-sum-query-immutable/" target="_blank" rel="noopener">303.Range Sum Query - Immutable</a><br>题目描述：没有元素修改的前缀和。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumArray</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">//初始化，前缀和</span></span><br><span class="line">    NumArray(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        prefixSum.push_back(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.size();i++)&#123;</span><br><span class="line">            prefixSum.push_back(prefixSum[i]+nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//求区间和</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">sumRange</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> prefixSum[j+<span class="number">1</span>]-prefixSum[i];</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; prefixSum;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h3><h4 id="填充螺旋矩阵"><a href="#填充螺旋矩阵" class="headerlink" title="填充螺旋矩阵"></a>填充螺旋矩阵</h4><ul>
<li>矩阵样例：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line"><span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">7</span></span><br><span class="line"><span class="number">19</span>  <span class="number">32</span>  <span class="number">33</span>  <span class="number">34</span>  <span class="number">25</span>  <span class="number">8</span>          </span><br><span class="line"><span class="number">18</span>  <span class="number">31</span>  <span class="number">36</span>  <span class="number">35</span>  <span class="number">26</span>  <span class="number">9</span></span><br><span class="line"><span class="number">17</span>	<span class="number">30</span>  <span class="number">29</span>  <span class="number">28</span>  <span class="number">27</span>  <span class="number">10</span></span><br><span class="line"><span class="number">16</span>  <span class="number">15</span>  <span class="number">14</span>  <span class="number">13</span>  <span class="number">12</span>  <span class="number">11</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>代码：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> matrix[<span class="number">100</span>][<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="keyword">int</span> countt=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">floor</span>=(t%<span class="number">2</span>==<span class="number">1</span>)?(t+<span class="number">1</span>)/<span class="number">2</span> : t/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="built_in">floor</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;=t-i<span class="number">-1</span>;j++)&#123;</span><br><span class="line">            matrix[i][j]=countt++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;=t-i<span class="number">-2</span>;j++)&#123;</span><br><span class="line">            matrix[j][t-i<span class="number">-1</span>]=countt++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=t-i<span class="number">-1</span>;j&gt;=i;j--)&#123;</span><br><span class="line">            matrix[t-i<span class="number">-1</span>][j]=countt++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=t-i<span class="number">-2</span>;j&gt;=i+<span class="number">1</span>;j--)&#123;</span><br><span class="line">            matrix[j][i]=countt++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(t%<span class="number">2</span>==<span class="number">1</span>)&#123;</span><br><span class="line">        matrix[<span class="built_in">floor</span><span class="number">-1</span>][<span class="built_in">floor</span><span class="number">-1</span>]=t*t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;t;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;t;j++)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;matrix[i][j]&lt;&lt;<span class="string">"        "</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="矩阵每行加一或每列加一"><a href="#矩阵每行加一或每列加一" class="headerlink" title="矩阵每行加一或每列加一"></a>矩阵每行加一或每列加一</h4><ul>
<li><a href="https://leetcode.com/problems/cells-with-odd-values-in-a-matrix/" target="_blank" rel="noopener">1252. Cells with Odd Values in a Matrix</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">oddCells</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; indices)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; matrix(n,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(m,<span class="number">0</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;indices.size();i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">                matrix[indices[i][<span class="number">0</span>]][j]++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">                matrix[j][indices[i][<span class="number">1</span>]]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(matrix[i][j]&amp;<span class="number">1</span>) res++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="水平翻转-按位翻转"><a href="#水平翻转-按位翻转" class="headerlink" title="水平翻转|按位翻转"></a>水平翻转|按位翻转</h4><ul>
<li><a href="https://leetcode.com/problems/flipping-an-image/" target="_blank" rel="noopener">832. Flipping an Image</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; flipAndInvertImage(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; A) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;::iterator vviit=A.begin();</span><br><span class="line">        <span class="keyword">for</span>(vviit;vviit!=A.end();vviit++)&#123;</span><br><span class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</span><br><span class="line">			reverse(vviit-&gt;begin(),vviit-&gt;end());</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">auto</span> a:*vviit)&#123;</span><br><span class="line">            	<span class="keyword">if</span>(a==<span class="number">0</span>)&#123;</span><br><span class="line">                	tmp.push_back(<span class="number">1</span>);</span><br><span class="line">              	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                	tmp.push_back(<span class="number">0</span>);</span><br><span class="line">               	&#125;   </span><br><span class="line">			&#125;</span><br><span class="line">            res.push_back(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="变换01矩阵使得行列都为偶数个1"><a href="#变换01矩阵使得行列都为偶数个1" class="headerlink" title="变换01矩阵使得行列都为偶数个1"></a>变换01矩阵使得行列都为偶数个1</h4><p>题意：一个m*n的01矩阵，m、n都是奇数，可以对一行或一列进行取反，问最少操作多少次能让所有行所有列都是偶数个1。</p>
<p>思路：</p>
<p>1.先看对一行进行取反，会导致所有奇数个1的列变为偶数个，所有偶数个1的列变为奇数个。如果对两行取反，奇数个1的列仍然为奇数个，偶数个1的仍然为偶数个。这样就会发现，对奇数个行取反，会导致满足条件和不满足条件列的个数互换；对偶数行取反，不影响满足条件的列的个数。</p>
<p>2.假设不满足条件的行数为r1，满足条件的行数为r2；不满足条件的列数为c1，满足条件的列数为c2.</p>
<p>当r1为偶数，c1为偶数时。对r1行不满足条件的进行取反，对列的数量是不影响的，然后再对c1列取反，res=r1+c1即可完成任务。</p>
<p>当r1为偶数，c1为奇数时，对r1行取反，行全部满足条件了，也不影响列，对奇数c1列取反，又会导致所有行(总共奇数行)不满足条件,这样行列互相影响，无解。</p>
<p>当r1为奇数，c1为偶数时，同上一种。</p>
<p>当r1为奇数，c1为奇数时，分两种情况：(1)先调整r1行，再调整c2列(c2=n-c1)，res1=r1+c2；(2)先调整c1列，再调整r2行(r2=m-r1)，res2=r2+c1.最少操作为res=min(res1,res2)。</p>
<hr>
<h3 id="数学"><a href="#数学" class="headerlink" title="数学"></a>数学</h3><h4 id="sqrt"><a href="#sqrt" class="headerlink" title="sqrt"></a>sqrt</h4><ul>
<li><a href="https://leetcode.com/problems/sqrtx/description/" target="_blank" rel="noopener">69. Sqrt(x)</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> left=<span class="number">0</span>,right=x;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> mid=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(x/mid&gt;=mid &amp;&amp; x/(mid+<span class="number">1</span>)&lt;(mid+<span class="number">1</span>)) <span class="keyword">return</span> mid;</span><br><span class="line">            <span class="keyword">if</span>(x/mid&lt;mid)&#123;</span><br><span class="line">                right=mid<span class="number">-1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                left=mid+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="素数筛法"><a href="#素数筛法" class="headerlink" title="素数筛法"></a>素数筛法</h4><ul>
<li><p><a href="https://leetcode.com/problems/count-primes/" target="_blank" rel="noopener">204. Count Primes</a></p>
<p>题意：给定n，输出从1-n之间的素数个数。</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">countPrimes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;               </span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; isprime(n+<span class="number">1</span>,<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">long</span> <span class="keyword">long</span> i=<span class="number">2</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(isprime[i]==<span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">long</span> <span class="keyword">long</span> j=i*i;j&lt;=n;j+=i)&#123;</span><br><span class="line">                    isprime[j]=<span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">long</span> <span class="keyword">long</span> i=<span class="number">2</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(isprime[i]) res++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="快速幂"><a href="#快速幂" class="headerlink" title="快速幂"></a>快速幂</h4><p><strong>递归解法</strong></p>
<ul>
<li><a href="https://leetcode.com/problems/powx-n/" target="_blank" rel="noopener">50. Pow(x, n)</a><br>思路：针对a^n，如果n是奇数，可以拆分为a <em> (a^(n-1));如果n是偶数，可以拆分为a^(n/2) </em> a^(n/2)。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//版本一，调用两遍pow</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">myPow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">long</span> <span class="keyword">long</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(n&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">pow</span>(x,n);    </span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>/<span class="built_in">pow</span>(x,<span class="built_in">abs</span>(n));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">pow</span><span class="params">(<span class="keyword">double</span> x,<span class="keyword">long</span> <span class="keyword">long</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>) <span class="keyword">return</span> x;</span><br><span class="line">        <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> x*<span class="built_in">pow</span>(x,n<span class="number">-1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">double</span> tmp=<span class="built_in">pow</span>(x,n/<span class="number">2</span>);</span><br><span class="line">            <span class="keyword">return</span> tmp*tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//版本二,调用一遍pow</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">myPow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">long</span> <span class="keyword">long</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(n&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">pow</span>(x,n);    </span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>/<span class="built_in">pow</span>(x,<span class="built_in">abs</span>(n));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">pow</span><span class="params">(<span class="keyword">double</span> x,<span class="keyword">long</span> <span class="keyword">long</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>) <span class="keyword">return</span> x;</span><br><span class="line">        <span class="keyword">double</span> tmp=<span class="built_in">pow</span>(x,n/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">1</span>)&#123;</span><br><span class="line">            tmp*=tmp*x;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            tmp*=tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>二进制拆分法</strong></p>
<p>思路：以2^11为例，11的二进制是1011,1011=1000+10+1,10进制表示是8+2+1，所以2^11可以拆分为2^8 <em> 2^2 </em> 2^1。下列代码中，base累积计算2^2、2^4、2^8、…，当n的该位为1，res就乘一下base。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">myPow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">long</span> <span class="keyword">long</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(n&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">pow</span>(x,n);    </span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>/<span class="built_in">pow</span>(x,<span class="built_in">abs</span>(n));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">pow</span><span class="params">(<span class="keyword">double</span> x,<span class="keyword">long</span> <span class="keyword">long</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> res=<span class="number">1</span>,base=x;</span><br><span class="line">        <span class="keyword">while</span>(n!=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(n&amp;<span class="number">1</span>==<span class="number">1</span>) res*=base;</span><br><span class="line">            base*=base;</span><br><span class="line">            n&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="几何坐标系"><a href="#几何坐标系" class="headerlink" title="几何坐标系"></a>几何坐标系</h4><ul>
<li><a href="https://leetcode.com/problems/minimum-time-visiting-all-points/" target="_blank" rel="noopener">1266. Minimum Time Visiting All Points</a><br>题意：给定若干点的坐标，计算访问所有点的路径之和(可以横、竖、对角线走，每次花费为1).<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minTimeToVisitAllPoints</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; points)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;points.size()<span class="number">-1</span>;i++)&#123;</span><br><span class="line">            res+=max(<span class="built_in">abs</span>(points[i][<span class="number">0</span>]-points[i+<span class="number">1</span>][<span class="number">0</span>]),<span class="built_in">abs</span>(points[i][<span class="number">1</span>]-points[i+<span class="number">1</span>][<span class="number">1</span>]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="计算逆波兰表达式"><a href="#计算逆波兰表达式" class="headerlink" title="计算逆波兰表达式"></a>计算逆波兰表达式</h4><ul>
<li><a href="https://leetcode.com/problems/evaluate-reverse-polish-notation/submissions/" target="_blank" rel="noopener">150. Evaluate Reverse Polish Notation</a><br>Input: [“2”, “1”, “+”, “3”, “<em>“]<br>Output: 9<br>Explanation: ((2 + 1) </em> 3) = 9<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">evalRPN</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; tokens)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; num;</span><br><span class="line">        <span class="keyword">int</span> n1,n2;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;tokens.size();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(tokens[i][tokens[i].size()<span class="number">-1</span>] &gt;= <span class="string">'0'</span> &amp;&amp;tokens[i][tokens[i].size()<span class="number">-1</span>] &lt;= <span class="string">'9'</span>)&#123;</span><br><span class="line">                num.push(<span class="built_in">std</span>::stoi(tokens[i]));</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            n1=num.top();num.pop();</span><br><span class="line">            n2=num.top();num.pop();</span><br><span class="line">            <span class="keyword">if</span>(tokens[i][tokens[i].size()<span class="number">-1</span>]==<span class="string">'+'</span>)&#123;</span><br><span class="line">                num.push(n2+n1);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(tokens[i][tokens[i].size()<span class="number">-1</span>]==<span class="string">'-'</span>)&#123;</span><br><span class="line">                num.push(n2-n1);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(tokens[i][tokens[i].size()<span class="number">-1</span>]==<span class="string">'*'</span>)&#123;</span><br><span class="line">                num.push(n2*n1);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(tokens[i][tokens[i].size()<span class="number">-1</span>]==<span class="string">'/'</span>)&#123;</span><br><span class="line">                num.push(n2/n1);</span><br><span class="line">            &#125; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num.top();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="链表二进制转十进制"><a href="#链表二进制转十进制" class="headerlink" title="链表二进制转十进制"></a>链表二进制转十进制</h4><ul>
<li><a href="https://leetcode.com/problems/convert-binary-number-in-a-linked-list-to-integer/" target="_blank" rel="noopener">1290. Convert Binary Number in a Linked List to Integer</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//my second solution</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getDecimalValue</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> head ? (res&lt;&lt;=<span class="number">1</span>,res|=head-&gt;val,getDecimalValue(head-&gt;next)) : res;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">//my first solution</span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">public:</span></span><br><span class="line"><span class="comment">    int getDecimalValue(ListNode* head) &#123;</span></span><br><span class="line"><span class="comment">        if(head==nullptr) return 0;</span></span><br><span class="line"><span class="comment">        return getDecimalValue(head-&gt;next)+(head-&gt;val ? pow(2,index++) : (index++,0));</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">private:</span></span><br><span class="line"><span class="comment">    int index=0;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">//other people</span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">public:</span></span><br><span class="line"><span class="comment">    int getDecimalValue(ListNode* head) &#123;</span></span><br><span class="line"><span class="comment">        int ans&#123;&#125;;</span></span><br><span class="line"><span class="comment">        while (head) &#123;</span></span><br><span class="line"><span class="comment">            ans &lt;&lt;= 1;</span></span><br><span class="line"><span class="comment">            ans |= head-&gt;val;</span></span><br><span class="line"><span class="comment">            head = head-&gt;next;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return ans;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="内部排序"><a href="#内部排序" class="headerlink" title="内部排序"></a>内部排序</h3><h4 id="快速排序-5种实现方式"><a href="#快速排序-5种实现方式" class="headerlink" title="快速排序(5种实现方式)"></a>快速排序(5种实现方式)</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">partitionn</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;num,<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> key=num[left];</span><br><span class="line">    <span class="keyword">int</span> i=left,j=right;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;j)&#123;</span><br><span class="line">        <span class="keyword">while</span>(i&lt;j &amp;&amp; num[j]&gt;=key)&#123;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        num[i]=num[j];</span><br><span class="line">        <span class="keyword">while</span>(i&lt;j &amp;&amp; num[i]&lt;=key)&#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        num[j]=num[i];</span><br><span class="line">    &#125;</span><br><span class="line">    num[i]=key;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;num,<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(left&gt;=right) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid=partitionn(num,left,right);</span><br><span class="line">    quickSort(num,left,mid);</span><br><span class="line">    quickSort(num,mid+<span class="number">1</span>,right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vi=&#123;<span class="number">6</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">99</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">    quickSort(vi,<span class="number">0</span>,vi.size()<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> a:vi)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; sortArray(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=nums.size()<span class="number">-1</span>;i&gt;<span class="number">0</span>;--i)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;i;++j)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[j]&gt;nums[j+<span class="number">1</span>])&#123;</span><br><span class="line">                    swap(nums[j],nums[j+<span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h4><h4 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h4><h4 id="树型选择排序"><a href="#树型选择排序" class="headerlink" title="树型选择排序"></a>树型选择排序</h4><h4 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h4><h4 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h4><h4 id="桶排序"><a href="#桶排序" class="headerlink" title="桶排序"></a>桶排序</h4><h4 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h4><h3 id="外部排序"><a href="#外部排序" class="headerlink" title="外部排序"></a>外部排序</h3><h4 id="多路平衡归并排序算法"><a href="#多路平衡归并排序算法" class="headerlink" title="多路平衡归并排序算法"></a>多路平衡归并排序算法</h4><h4 id="置换选择排序算法"><a href="#置换选择排序算法" class="headerlink" title="置换选择排序算法"></a>置换选择排序算法</h4><h4 id="最佳归并树"><a href="#最佳归并树" class="headerlink" title="最佳归并树"></a>最佳归并树</h4><hr>
<h3 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h3><h4 id="链表模拟的大数加法"><a href="#链表模拟的大数加法" class="headerlink" title="链表模拟的大数加法"></a>链表模拟的大数加法</h4><ul>
<li><a href="https://leetcode.com/problems/add-two-numbers/description/" target="_blank" rel="noopener">2. Add Two Numbers</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">addTwoNumbers</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">        ListNode *head=<span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">        ListNode *iter=head;</span><br><span class="line">        ListNode *ptr1=l1, *ptr2=l2;</span><br><span class="line">        <span class="keyword">int</span> digtal=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> carry=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(ptr1!=<span class="literal">nullptr</span> || ptr2!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">            digtal=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(ptr1!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">                digtal+=ptr1-&gt;val;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(ptr2!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">                digtal+=ptr2-&gt;val;</span><br><span class="line">            &#125;</span><br><span class="line">            digtal+=carry;</span><br><span class="line">            ListNode *tmp=<span class="keyword">new</span> ListNode(digtal%<span class="number">10</span>);</span><br><span class="line">            carry=digtal/<span class="number">10</span>;</span><br><span class="line">            iter-&gt;next=tmp;</span><br><span class="line">            iter=iter-&gt;next;</span><br><span class="line">            <span class="keyword">if</span>(ptr1!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">                ptr1=ptr1-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(ptr2!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">                ptr2=ptr2-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(carry!=<span class="number">0</span>)&#123;</span><br><span class="line">            ListNode *tmp=<span class="keyword">new</span> ListNode(carry);</span><br><span class="line">            iter-&gt;next=tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        iter=head-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> head;</span><br><span class="line">        <span class="keyword">return</span> iter;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="合并两条有序链表"><a href="#合并两条有序链表" class="headerlink" title="合并两条有序链表"></a>合并两条有序链表</h4><ul>
<li><a href="https://leetcode.com/problems/merge-two-sorted-lists/" target="_blank" rel="noopener">21. Merge Two Sorted Lists</a></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//创建一个头结点，不用特判第一个节点了。</span></span><br><span class="line"><span class="comment">//如果用new创建头结点，记得delete。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* list1, ListNode* list2)</span> </span>&#123;</span><br><span class="line">        <span class="function">ListNode <span class="title">head</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line">        ListNode *iter=&amp;head;</span><br><span class="line">        ListNode *l1=list1, *l2=list2;</span><br><span class="line">        <span class="keyword">while</span>(l1 &amp;&amp; l2)&#123;</span><br><span class="line">            <span class="keyword">if</span>(l1-&gt;val &lt; l2-&gt;val)&#123;</span><br><span class="line">                iter-&gt;next=l1;</span><br><span class="line">                l1=l1-&gt;next;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                iter-&gt;next=l2;</span><br><span class="line">                l2=l2-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            iter=iter-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode *tmp=l1 ? l1 :l2;</span><br><span class="line">        iter-&gt;next=tmp;</span><br><span class="line">        <span class="keyword">return</span> head.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="反转链表的m到n个节点-0-lt-m-lt-n-lt-lenght"><a href="#反转链表的m到n个节点-0-lt-m-lt-n-lt-lenght" class="headerlink" title="反转链表的m到n个节点(0&lt;=m&lt;=n&lt;=lenght)"></a>反转链表的m到n个节点(0&lt;=m&lt;=n&lt;=lenght)</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ListNode* <span class="title">reverseBetween</span><span class="params">(ListNode* head, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head==<span class="literal">nullptr</span>||head-&gt;next==<span class="literal">nullptr</span>||m==n) <span class="keyword">return</span> head;</span><br><span class="line">    <span class="function">ListNode <span class="title">newhead</span><span class="params">(<span class="number">0</span>)</span></span>; newhead.next=head;</span><br><span class="line">    ListNode *pre=&amp;newhead,*ptri,*ptrright;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m<span class="number">-1</span>;i++)&#123;</span><br><span class="line">        pre=pre-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    ptri=pre-&gt;next;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;(n-m);i++)&#123;</span><br><span class="line">        ptrright=pre-&gt;next;</span><br><span class="line">        pre-&gt;next=ptri-&gt;next;</span><br><span class="line">        ptri-&gt;next=pre-&gt;next-&gt;next;</span><br><span class="line">        pre-&gt;next-&gt;next=ptrright;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newhead.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="判断Y型链表的第一个公共结点"><a href="#判断Y型链表的第一个公共结点" class="headerlink" title="判断Y型链表的第一个公共结点"></a>判断Y型链表的第一个公共结点</h4><ul>
<li>我去走你走过的路，你去走我走过的路，然后我们就会相遇。</li>
</ul>
<h4 id="链表中环的入口"><a href="#链表中环的入口" class="headerlink" title="链表中环的入口"></a>链表中环的入口</h4><ul>
<li><p><a href="https://leetcode.com/problems/linked-list-cycle-ii/" target="_blank" rel="noopener">142. Linked List Cycle II</a><br>题解：首先设置两个指针，slow每次走一步，fast每次走两步。显而易见，如果存在环，两个指针一定会走到环中，然后快的早晚能追上慢的，就像两人在操场跑步一样。第二步是让两个指针，一个从链表头开始跑，一个从相遇点开始跑，都是每次走一步，两个指针相遇的时候，就是环的入口。第二步的证明如下：<br><img src="/images_/2020_picture/20200305 find_cycle_node.jpg" alt="寻找环的入口"><br>设链表头到环入口的长度为a，从环入口到相遇点长度b，从相遇点到环入口为c。<br>快指针的路程为：a+(b+c)k+b。(k一定大于等于1，不然快慢指针走的路程岂不是一样了)<br>慢指针路程：a+b。(慢指针进入环之后，走不完一圈一定会被快指针追上)<br>快指针路程为慢指针路程的2倍：2<em>(a+b)=a+(b+c)</em>k+b<br>我们想获取a的值：a=(k-1)(b+c)+c。<br>所以从链表头到环入口的距离等于从相遇点走到环入口的距离(从相遇点出发的指针可能是第一圈就到达环入口，可能是第2、3…)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode *<span class="title">detectCycle</span><span class="params">(ListNode *head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">nullptr</span> || head-&gt;next==<span class="literal">nullptr</span> || head-&gt;next==<span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        ListNode *fast=head,*slow=head;</span><br><span class="line">        <span class="keyword">while</span>(fast-&gt;next!=<span class="literal">nullptr</span> &amp;&amp; fast-&gt;next-&gt;next!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">            fast=fast-&gt;next-&gt;next;</span><br><span class="line">            slow=slow-&gt;next;</span><br><span class="line">            <span class="keyword">if</span>(slow==fast) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(fast-&gt;next==<span class="literal">nullptr</span> || fast-&gt;next-&gt;next==<span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        slow=head;</span><br><span class="line">        <span class="keyword">while</span>(slow!=fast)&#123;</span><br><span class="line">            slow=slow-&gt;next;</span><br><span class="line">            fast=fast-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> slow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参考：<a href="https://zhuanlan.zhihu.com/p/103626709" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/103626709</a></p>
</li>
</ul>
<h4 id="单链表归并排序"><a href="#单链表归并排序" class="headerlink" title="单链表归并排序"></a>单链表归并排序</h4><ul>
<li><a href="https://leetcode.com/problems/sort-list/" target="_blank" rel="noopener">148.Sort List</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1.特殊情况判断</span></span><br><span class="line"><span class="comment">2.将链表二分</span></span><br><span class="line"><span class="comment">3.两条链表分别进行排序</span></span><br><span class="line"><span class="comment">4.归并两条链表</span></span><br><span class="line"><span class="comment">*归并链表两种方式，递归法&amp;顺序合并法</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">sortList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">nullptr</span> || head-&gt;next==<span class="literal">nullptr</span>) <span class="keyword">return</span> head;</span><br><span class="line">        ListNode *onestep=head,*twostep=head;</span><br><span class="line">        <span class="keyword">while</span>(twostep-&gt;next!=<span class="literal">nullptr</span> &amp;&amp; twostep-&gt;next-&gt;next!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">            onestep=onestep-&gt;next;</span><br><span class="line">            twostep=twostep-&gt;next-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode *secondlist=onestep-&gt;next;</span><br><span class="line">        onestep-&gt;next=<span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">return</span> merge2(sortList(head),sortList(secondlist));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function">ListNode *<span class="title">merge</span><span class="params">(ListNode *first,ListNode *second)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(first==<span class="literal">nullptr</span>) <span class="keyword">return</span> second;</span><br><span class="line">        <span class="keyword">if</span>(second==<span class="literal">nullptr</span>) <span class="keyword">return</span> first;</span><br><span class="line">        <span class="keyword">if</span>(first-&gt;val&lt;second-&gt;val)&#123;</span><br><span class="line">            first-&gt;next=merge(first-&gt;next,second);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            second-&gt;next=merge(first,second-&gt;next);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> first-&gt;val&lt;second-&gt;val ? first : second;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function">ListNode *<span class="title">merge2</span><span class="params">(ListNode *first,ListNode *second)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(first==<span class="literal">nullptr</span>) <span class="keyword">return</span> second;</span><br><span class="line">        <span class="keyword">if</span>(second==<span class="literal">nullptr</span>) <span class="keyword">return</span> first;</span><br><span class="line">        ListNode *firstcurrent=first,*secondcurrent=second,*tmp=<span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">if</span>(firstcurrent-&gt;val&lt;secondcurrent-&gt;val)&#123;</span><br><span class="line">            tmp=firstcurrent;</span><br><span class="line">            firstcurrent=firstcurrent-&gt;next;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            tmp=secondcurrent;</span><br><span class="line">            secondcurrent=secondcurrent-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode *newhead=tmp;</span><br><span class="line">        <span class="keyword">while</span>(firstcurrent!=<span class="literal">nullptr</span>&amp;&amp;secondcurrent!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(firstcurrent-&gt;val&lt;secondcurrent-&gt;val)&#123;</span><br><span class="line">                tmp-&gt;next=firstcurrent;</span><br><span class="line">                firstcurrent=firstcurrent-&gt;next;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                tmp-&gt;next=secondcurrent;</span><br><span class="line">                secondcurrent=secondcurrent-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            tmp=tmp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(firstcurrent==<span class="literal">nullptr</span>)&#123;</span><br><span class="line">            tmp-&gt;next=secondcurrent;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            tmp-&gt;next=firstcurrent;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newhead;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="归并多条链表"><a href="#归并多条链表" class="headerlink" title="归并多条链表"></a>归并多条链表</h4><ul>
<li><a href="https://leetcode.com/problems/merge-k-sorted-lists" target="_blank" rel="noopener">23. Merge k Sorted Lists</a><br>思路：使用优先队列维护每个链表头，每次出队最小的。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    ListNode *ptr;</span><br><span class="line">    Node(<span class="keyword">int</span> v,ListNode *p):val(v),ptr(p)&#123;&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> Node &amp;n)<span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> val&gt;n.val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Node &amp;n)<span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> val&lt;n.val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">mergeKLists</span><span class="params">(<span class="built_in">vector</span>&lt;ListNode*&gt;&amp; lists)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(lists.size()==<span class="number">0</span>) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        initPriorityQueue(lists);<span class="comment">//先初始化优先队列</span></span><br><span class="line">        ListNode *head,*p;</span><br><span class="line">        head=getMinNode(lists);</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">nullptr</span>) <span class="keyword">return</span> head;</span><br><span class="line">        p=head;</span><br><span class="line">        ListNode *tmp;</span><br><span class="line">		<span class="comment">//循环获取最小的链表头</span></span><br><span class="line">        <span class="keyword">while</span>((tmp=getMinNode(lists)) &amp;&amp; tmp!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">            p-&gt;next=tmp;</span><br><span class="line">            p=p-&gt;next;</span><br><span class="line">            p-&gt;next=<span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="comment">//初始化优先队列</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">initPriorityQueue</span><span class="params">(<span class="built_in">vector</span>&lt;ListNode*&gt; &amp;lists)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;lists.size();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(lists[i]!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">                q.push(Node(lists[i]-&gt;val,lists[i]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//从优先队列获取最小链表头，并更新优先队列</span></span><br><span class="line">    <span class="function">ListNode* <span class="title">getMinNode</span><span class="params">(<span class="built_in">vector</span>&lt;ListNode*&gt; &amp;lists)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(q.size()!=<span class="number">0</span>)&#123;</span><br><span class="line">            ListNode *res=q.top().ptr;</span><br><span class="line">            q.pop();</span><br><span class="line">            <span class="keyword">if</span>(res-&gt;next!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">                q.push(Node(res-&gt;next-&gt;val,res-&gt;next));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    priority_queue&lt;Node,<span class="built_in">vector</span>&lt;Node&gt;,greater&lt;Node&gt;&gt; q;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="复制带random指针的链表"><a href="#复制带random指针的链表" class="headerlink" title="复制带random指针的链表"></a>复制带random指针的链表</h4><ul>
<li><a href="https://leetcode.com/problems/copy-list-with-random-pointer/" target="_blank" rel="noopener">138. Copy List with Random Pointer</a></li>
</ul>
<hr>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><h4 id="分割平衡串"><a href="#分割平衡串" class="headerlink" title="分割平衡串"></a>分割平衡串</h4><ul>
<li><a href="https://leetcode.com/problems/split-a-string-in-balanced-strings/" target="_blank" rel="noopener">1221. Split a String in Balanced Strings</a><br>题意：Input: s = “RLRRLLRLRL”，Output: 4。(RL,RRLL,RL,RL)<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">balancedStringSplit</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res=<span class="number">0</span>,pos=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.size();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i]==<span class="string">'R'</span>)&#123;</span><br><span class="line">                pos++;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                pos--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(pos==<span class="number">0</span>) res++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="替换字符串-处理IP地址"><a href="#替换字符串-处理IP地址" class="headerlink" title="替换字符串|处理IP地址"></a>替换字符串|处理IP地址</h4><ul>
<li><a href="https://leetcode.com/problems/defanging-an-ip-address/" target="_blank" rel="noopener">1108. Defanging an IP Address</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">defangIPaddr</span><span class="params">(<span class="built_in">string</span> address)</span> </span>&#123;</span><br><span class="line">        string res(address.size()+6,'.');</span><br><span class="line">        <span class="keyword">int</span> index=res.size()<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=address.size()<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(address[i]!=<span class="string">'.'</span>)&#123;</span><br><span class="line">                res[index--]=address[i];</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                res[index--]=<span class="string">']'</span>;</span><br><span class="line">                res[index--]=<span class="string">'.'</span>;</span><br><span class="line">                res[index--]=<span class="string">'['</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="最长不重复子串"><a href="#最长不重复子串" class="headerlink" title="最长不重复子串"></a>最长不重复子串</h4><ul>
<li><a href="https://leetcode.com/problems/longest-substring-without-repeating-characters/" target="_blank" rel="noopener">3. Longest Substring Without Repeating Characters</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.size()==<span class="number">0</span> || s.size()==<span class="number">1</span>) <span class="keyword">return</span> s.size();</span><br><span class="line">        <span class="keyword">int</span> left=<span class="number">0</span>,right=<span class="number">1</span>;</span><br><span class="line">        <span class="built_in">string</span> longeststr;</span><br><span class="line">        longeststr+=s[<span class="number">0</span>];</span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="keyword">char</span>,<span class="keyword">int</span>&gt; mapci;</span><br><span class="line">        mapci[s[<span class="number">0</span>]]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">			<span class="comment">//如果当前map没有该字符，就添加到map，并更新最长字符串</span></span><br><span class="line">            <span class="keyword">if</span>(mapci.count(s[right])==<span class="number">0</span>)&#123;</span><br><span class="line">                mapci[s[right]]=right;</span><br><span class="line">                <span class="keyword">if</span>((right-left+<span class="number">1</span>)&gt;longeststr.size())&#123;</span><br><span class="line">                    longeststr=s.substr(left,right-left+<span class="number">1</span>);</span><br><span class="line">                    <span class="comment">//cout&lt;&lt;longeststr&lt;&lt;endl;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				如果出现重复字符，首先判断当前串是否更长</span><br><span class="line">                <span class="keyword">if</span>((right-left)&gt;longeststr.size())&#123;</span><br><span class="line">                    longeststr=s.substr(left,right-left+<span class="number">1</span>);</span><br><span class="line">                    <span class="comment">//cout&lt;&lt;longeststr&lt;&lt;endl;</span></span><br><span class="line">                &#125;</span><br><span class="line">				<span class="comment">//从map中删除从left到重复字符的位置</span></span><br><span class="line">                <span class="keyword">int</span> t=mapci[s[right]]+<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=left;i&lt;=mapci[s[right]];i++)&#123;</span><br><span class="line">                    mapci.erase(s[i]);</span><br><span class="line">                &#125;</span><br><span class="line">				更新left并将right字符位置添加到<span class="built_in">map</span></span><br><span class="line">                left=t;</span><br><span class="line">                mapci[s[right]]=right;</span><br><span class="line">            &#125;</span><br><span class="line">            right++;</span><br><span class="line">            <span class="keyword">if</span>(right==s.size())&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> longeststr.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">int lengthOfLongestSubstring(string s) &#123;</span></span><br><span class="line"><span class="comment">        int n=s.size(),ans=0,i=0;</span></span><br><span class="line"><span class="comment">        vector&lt;int&gt; lastIndex(256,-1);</span></span><br><span class="line"><span class="comment">        for(int j=0;j&lt;n;++j) &#123;</span></span><br><span class="line"><span class="comment">            i=max(i,lastIndex[s[j]]+1);</span></span><br><span class="line"><span class="comment">            ans=max(ans,j-i+1);</span></span><br><span class="line"><span class="comment">            lastIndex[s[j]]=j; </span></span><br><span class="line"><span class="comment">        &#125; </span></span><br><span class="line"><span class="comment">        return ans; </span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="kmp模式匹配"><a href="#kmp模式匹配" class="headerlink" title="kmp模式匹配"></a>kmp模式匹配</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>参考：<a href="http://leungyukshing.cn/archives/Kmp-Algorithm.html" target="_blank" rel="noopener">http://leungyukshing.cn/archives/Kmp-Algorithm.html</a></li>
</ul>
<h4 id="字符串逆置"><a href="#字符串逆置" class="headerlink" title="字符串逆置"></a>字符串逆置</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reversestr</span><span class="params">(<span class="built_in">string</span> &amp;str)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>,len=str.size();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=len;i++)&#123;</span><br><span class="line">        <span class="keyword">char</span> tmp=str[i];</span><br><span class="line">        str[i]=str[len-i<span class="number">-1</span>];</span><br><span class="line">        str[len-i<span class="number">-1</span>]=tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//如果不使用tmp来辅助，如果用异或来实现时，如果两个数相等，就会出错。</span></span><br></pre></td></tr></table></figure>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><ul>
<li><a href="https://leetcode.com/problems/jewels-and-stones/" target="_blank" rel="noopener">771.Jewels and Stones</a><br>题意：给定字符串J和S，判断S中有多少字符在J中出现，J中无重复字符，且大小写敏感。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tc:o(n+m)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numJewelsInStones</span><span class="params">(<span class="built_in">string</span> J, <span class="built_in">string</span> S)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>,<span class="keyword">int</span>&gt; m;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> a:J)&#123;</span><br><span class="line">          m[a]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> a:S)&#123;</span><br><span class="line">          <span class="keyword">if</span>(m[a]!=<span class="number">0</span>) res++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h3><h4 id="01背包"><a href="#01背包" class="headerlink" title="01背包"></a>01背包</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">1005</span>]=&#123;<span class="number">0</span>&#125;;<span class="comment">//全局数组</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zeroonepack</span><span class="params">(<span class="keyword">int</span> T,<span class="keyword">int</span> t,<span class="keyword">int</span> p)</span></span>&#123;<span class="comment">//总容量，单件物品消耗，单件价值</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=T;i&gt;=t;i--)&#123;</span><br><span class="line">        a[i]=max(a[i],a[i-t]+p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="完全背包"><a href="#完全背包" class="headerlink" title="完全背包"></a>完全背包</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">1005</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">completepack</span><span class="params">(<span class="keyword">int</span> T,<span class="keyword">int</span> t,<span class="keyword">int</span> p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=t;i&lt;=T;i++)&#123;</span><br><span class="line">        a[i]=max(a[i],a[i-t]+p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="多重背包"><a href="#多重背包" class="headerlink" title="多重背包"></a>多重背包</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">1005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zeroonepack</span><span class="params">(<span class="keyword">int</span> T,<span class="keyword">int</span> t,<span class="keyword">int</span> p)</span></span>&#123;<span class="comment">//总容量，单件物品消耗，单件价值</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=T;i&gt;=t;i--)&#123;</span><br><span class="line">        a[i]=max(a[i],a[i-t]+p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">completepack</span><span class="params">(<span class="keyword">int</span> T,<span class="keyword">int</span> t,<span class="keyword">int</span> p)</span></span>&#123;<span class="comment">//总容量，单件物品消耗，单件价值</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=t;i&lt;=T;i++)&#123;</span><br><span class="line">        a[i]=max(a[i],a[i-t]+p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">multiplepack</span><span class="params">(<span class="keyword">int</span> V,<span class="keyword">int</span> v,<span class="keyword">int</span> w,<span class="keyword">int</span> m)</span></span>&#123;<span class="comment">//总容量，单件物品消耗，单件价值,物品数量</span></span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="keyword">if</span>(v*m&gt;=V)&#123;</span><br><span class="line">        completepack(V,v,w);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    k=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(k&lt;=m)&#123;</span><br><span class="line">        zeroonepack(V,k*v,k*w);</span><br><span class="line">        m=m-k;</span><br><span class="line">        k*=<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    zeroonepack(V,v*m,w*m);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="分割字符串"><a href="#分割字符串" class="headerlink" title="分割字符串"></a>分割字符串</h4><ul>
<li><a href="https://leetcode.com/problems/word-break/" target="_blank" rel="noopener">139. Word Break</a><br>题目描述：给定字符串s，判断能否分割为字典wordDict中的单词(wordDict中无重复单词，但s分割开的可以重复).<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//法一：动态规划</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">wordBreak</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; wordDict)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n=s.size(),m=wordDict.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; dp(n+<span class="number">2</span>,<span class="literal">false</span>);</span><br><span class="line">        dp[<span class="number">0</span>]=<span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> index=i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(s.substr(index,wordDict[j].size())==wordDict[j] &amp;&amp; dp[index]==<span class="literal">true</span>)&#123;</span><br><span class="line">                    dp[index+wordDict[j].size()]=<span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">//暴力遍历+set优化</span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">public:</span></span><br><span class="line"><span class="comment">    bool wordBreak(string s, vector&lt;string&gt;&amp; wordDict) &#123;</span></span><br><span class="line"><span class="comment">        if(s.size()==0) return true;</span></span><br><span class="line"><span class="comment">        set&lt;string&gt; dict;	//优化去字典查找的速度。</span></span><br><span class="line"><span class="comment">        set&lt;int&gt; num;	//优化状态。</span></span><br><span class="line"><span class="comment">        for(auto s:wordDict)&#123;</span></span><br><span class="line"><span class="comment">            dict.insert(s);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        queue&lt;int&gt; queuestr;</span></span><br><span class="line"><span class="comment">        queuestr.push(0);</span></span><br><span class="line"><span class="comment">        while(!queuestr.empty())&#123;</span></span><br><span class="line"><span class="comment">            int index=queuestr.front(); queuestr.pop();</span></span><br><span class="line"><span class="comment">            string tmp="";</span></span><br><span class="line"><span class="comment">            for(int i=index;i&lt;s.size();i++)&#123;</span></span><br><span class="line"><span class="comment">                tmp+=s[i];</span></span><br><span class="line"><span class="comment">                if(i==s.size()-1)&#123;</span></span><br><span class="line"><span class="comment">                    if(dict.count(tmp)!=0)&#123;</span></span><br><span class="line"><span class="comment">                        return true;</span></span><br><span class="line"><span class="comment">                    &#125;else&#123;</span></span><br><span class="line"><span class="comment">                        break;</span></span><br><span class="line"><span class="comment">                    &#125;</span></span><br><span class="line"><span class="comment">                &#125;</span></span><br><span class="line"><span class="comment">                if(dict.count(tmp)!=0)&#123;</span></span><br><span class="line"><span class="comment">                    if(num.count(i+1)==0)&#123;</span></span><br><span class="line"><span class="comment">                        queuestr.push(i+1);</span></span><br><span class="line"><span class="comment">                        num.insert(i+1);</span></span><br><span class="line"><span class="comment">                    &#125;</span></span><br><span class="line"><span class="comment">                &#125;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return false;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">auto sync=[]()&#123;ios::sync_with_stdio(false);&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="树"><a href="#树" class="headerlink" title="树"></a>树</h3><h4 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h4><h5 id="先序遍历-三种方法"><a href="#先序遍历-三种方法" class="headerlink" title="先序遍历(三种方法)"></a>先序遍历(三种方法)</h5><ul>
<li><a href="https://leetcode.com/problems/binary-tree-preorder-traversal/" target="_blank" rel="noopener">144. Binary Tree Preorder Traversal</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/*	Morris先序遍历</span></span><br><span class="line"><span class="comment">先序遍历中，访问顺序是根左右，其中根左是很容易的，重点在于根左完了之后需要访问根的右子树。</span></span><br><span class="line"><span class="comment">无论是递归版还是用栈模拟的版本，都保存了根节点的索引，这样可以方便的找到右子树。</span></span><br><span class="line"><span class="comment">在morris方式中，巧妙地利用了叶子节点里的空闲指针。</span></span><br><span class="line"><span class="comment">假如当前根节点为cur，此时如果马上下到左子树上，就会丢失cur节点。</span></span><br><span class="line"><span class="comment">所以可以找到cur左子树的最右下的那个叶子结点，将它的右指针指向cur。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; preorderTraversal(TreeNode* root) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        TreeNode *cur=root,*tmp;</span><br><span class="line">        <span class="keyword">while</span>(cur!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cur-&gt;left==<span class="literal">nullptr</span>)&#123;</span><br><span class="line">                res.insert(res.end(),cur-&gt;val);</span><br><span class="line">                cur=cur-&gt;right;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                tmp=cur-&gt;left;</span><br><span class="line">                <span class="keyword">while</span>(tmp-&gt;right!=<span class="literal">nullptr</span> &amp;&amp; tmp-&gt;right!=cur)&#123;</span><br><span class="line">                    tmp=tmp-&gt;right;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(tmp-&gt;right==<span class="literal">nullptr</span>)&#123;</span><br><span class="line">                    res.insert(res.end(),cur-&gt;val);</span><br><span class="line">                    tmp-&gt;right=cur;</span><br><span class="line">                    cur=cur-&gt;left;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    tmp-&gt;right=<span class="literal">nullptr</span>;</span><br><span class="line">                    cur=cur-&gt;right;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">//递归版</span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">private:</span></span><br><span class="line"><span class="comment">    vector&lt;int&gt; res;</span></span><br><span class="line"><span class="comment">public:</span></span><br><span class="line"><span class="comment">    vector&lt;int&gt; preorderTraversal(TreeNode* root) &#123;</span></span><br><span class="line"><span class="comment">        return preorderRecursive(root),res;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    void preorderRecursive(TreeNode *root)&#123;</span></span><br><span class="line"><span class="comment">        if(root==nullptr) return;</span></span><br><span class="line"><span class="comment">        res.insert(res.end(),root-&gt;val);</span></span><br><span class="line"><span class="comment">        preorderRecursive(root-&gt;left);</span></span><br><span class="line"><span class="comment">        preorderRecursive(root-&gt;right);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">//stack 迭代版</span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">public:</span></span><br><span class="line"><span class="comment">    vector&lt;int&gt; preorderTraversal(TreeNode* root) &#123;</span></span><br><span class="line"><span class="comment">        vector&lt;int&gt; res;</span></span><br><span class="line"><span class="comment">        if(root==nullptr) return res;</span></span><br><span class="line"><span class="comment">        stack&lt;TreeNode *&gt; sta;</span></span><br><span class="line"><span class="comment">        sta.push(root);</span></span><br><span class="line"><span class="comment">        TreeNode *tmp;</span></span><br><span class="line"><span class="comment">        while(!sta.empty())&#123;</span></span><br><span class="line"><span class="comment">            tmp=sta.top(); sta.pop();</span></span><br><span class="line"><span class="comment">            res.push_back(tmp-&gt;val);</span></span><br><span class="line"><span class="comment">            if(tmp-&gt;right!=nullptr) sta.push(tmp-&gt;right);</span></span><br><span class="line"><span class="comment">            if(tmp-&gt;left!=nullptr) sta.push(tmp-&gt;left);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return res;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="中序遍历-三种方法"><a href="#中序遍历-三种方法" class="headerlink" title="中序遍历(三种方法)"></a>中序遍历(三种方法)</h5><ul>
<li><a href="https://leetcode.com/problems/binary-tree-inorder-traversal/" target="_blank" rel="noopener">94. Binary Tree Inorder Traversal</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Morris版时间复杂度O(n),空间O(1).但实测不如另外两种快？</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; inorderTraversal(TreeNode* root) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        TreeNode *cur=root,*tmp;</span><br><span class="line">        <span class="keyword">while</span>(cur!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cur-&gt;left==<span class="literal">nullptr</span>)&#123;</span><br><span class="line">                res.insert(res.end(),cur-&gt;val);</span><br><span class="line">                cur=cur-&gt;right;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                tmp=cur-&gt;left;</span><br><span class="line">                <span class="keyword">while</span>(tmp-&gt;right!=<span class="literal">nullptr</span> &amp;&amp; tmp-&gt;right!=cur)&#123;</span><br><span class="line">                    tmp=tmp-&gt;right;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(tmp-&gt;right==cur)&#123;</span><br><span class="line">                    tmp-&gt;right=<span class="literal">nullptr</span>;</span><br><span class="line">                    res.insert(res.end(),cur-&gt;val);</span><br><span class="line">                    cur=cur-&gt;right;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    tmp-&gt;right=cur;</span><br><span class="line">                    cur=cur-&gt;left;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">//递归</span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">private:</span></span><br><span class="line"><span class="comment">    vector&lt;int&gt; res;</span></span><br><span class="line"><span class="comment">public:</span></span><br><span class="line"><span class="comment">    vector&lt;int&gt; inorderTraversal(TreeNode* root) &#123;</span></span><br><span class="line"><span class="comment">        return inorderRecursive(root),res;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    void inorderRecursive(TreeNode *root)&#123;</span></span><br><span class="line"><span class="comment">        if(root==nullptr) return;</span></span><br><span class="line"><span class="comment">        inorderRecursive(root-&gt;left);</span></span><br><span class="line"><span class="comment">        res.push_back(root-&gt;val);</span></span><br><span class="line"><span class="comment">        inorderRecursive(root-&gt;right);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">//stack 迭代</span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">public:</span></span><br><span class="line"><span class="comment">    vector&lt;int&gt; inorderTraversal(TreeNode* root) &#123;</span></span><br><span class="line"><span class="comment">        vector&lt;int&gt; res;</span></span><br><span class="line"><span class="comment">        stack&lt;TreeNode *&gt; sta;</span></span><br><span class="line"><span class="comment">        TreeNode *tmp=root;</span></span><br><span class="line"><span class="comment">        while(tmp!=nullptr || !sta.empty())&#123;</span></span><br><span class="line"><span class="comment">            while(tmp!=nullptr)&#123;</span></span><br><span class="line"><span class="comment">                sta.push(tmp);</span></span><br><span class="line"><span class="comment">                tmp=tmp-&gt;left;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            tmp=sta.top(); sta.pop();</span></span><br><span class="line"><span class="comment">            res.push_back(tmp-&gt;val);</span></span><br><span class="line"><span class="comment">            tmp=tmp-&gt;right;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return res;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="后序遍历-三种方法"><a href="#后序遍历-三种方法" class="headerlink" title="后序遍历(三种方法)"></a>后序遍历(三种方法)</h5><ul>
<li><a href="https://leetcode.com/problems/binary-tree-postorder-traversal/" target="_blank" rel="noopener">145. Binary Tree Postorder Traversal</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//Morris版</span></span><br><span class="line"><span class="comment">//使用revertmp的版本，空间复杂度不是o(1),最坏情况是o(n)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; postorderTraversal(TreeNode* root) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">        <span class="function">TreeNode <span class="title">newroot</span><span class="params">(<span class="number">0</span>)</span></span>; newroot.left=root;</span><br><span class="line">        TreeNode  *cur=&amp;newroot,*tmp;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(cur!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cur-&gt;left==<span class="literal">nullptr</span>)&#123;</span><br><span class="line">                cur=cur-&gt;right;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                tmp=cur-&gt;left;</span><br><span class="line">                <span class="keyword">while</span>(tmp-&gt;right!=<span class="literal">nullptr</span> &amp;&amp; tmp-&gt;right!=cur)&#123;</span><br><span class="line">                    tmp=tmp-&gt;right;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(tmp-&gt;right==<span class="literal">nullptr</span>)&#123;</span><br><span class="line">                    tmp-&gt;right=cur;</span><br><span class="line">                    cur=cur-&gt;left;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; revertmp;<span class="comment">//最坏o(n)</span></span><br><span class="line">                    tmp-&gt;right=<span class="literal">nullptr</span>;</span><br><span class="line">                    tmp=cur-&gt;left;</span><br><span class="line">                    <span class="keyword">while</span>(tmp!=<span class="literal">nullptr</span>)&#123;</span><br><span class="line">                        revertmp.insert(revertmp.begin(),tmp-&gt;val);</span><br><span class="line">                        tmp=tmp-&gt;right;</span><br><span class="line">                    &#125;</span><br><span class="line">                    res.insert(res.end(),revertmp.begin(),revertmp.end());</span><br><span class="line">                    cur=cur-&gt;right;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">//递归版</span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">private:</span></span><br><span class="line"><span class="comment">    vector&lt;int&gt; res;</span></span><br><span class="line"><span class="comment">public:</span></span><br><span class="line"><span class="comment">    vector&lt;int&gt; postorderTraversal(TreeNode* root) &#123;</span></span><br><span class="line"><span class="comment">        postorderRecursive(root);</span></span><br><span class="line"><span class="comment">        return res;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    void postorderRecursive(TreeNode *root)&#123;</span></span><br><span class="line"><span class="comment">        if(root==nullptr) return ;</span></span><br><span class="line"><span class="comment">        postorderRecursive(root-&gt;left);</span></span><br><span class="line"><span class="comment">        postorderRecursive(root-&gt;right);</span></span><br><span class="line"><span class="comment">        res.insert(res.end(),root-&gt;val);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">//栈 迭代版</span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">public:</span></span><br><span class="line"><span class="comment">    vector&lt;int&gt; postorderTraversal(TreeNode* root) &#123;</span></span><br><span class="line"><span class="comment">        stack&lt;TreeNode*&gt; snode;</span></span><br><span class="line"><span class="comment">        vector&lt;int&gt; vires;</span></span><br><span class="line"><span class="comment">        if(root!=NULL)&#123;</span></span><br><span class="line"><span class="comment">            snode.push(root);    </span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        while(!snode.empty())&#123;</span></span><br><span class="line"><span class="comment">            TreeNode* now=snode.top(); snode.pop();</span></span><br><span class="line"><span class="comment">            vires.push_back(now-&gt;val);</span></span><br><span class="line"><span class="comment">            if(now-&gt;left!=NULL)&#123;</span></span><br><span class="line"><span class="comment">                snode.push(now-&gt;left);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            if(now-&gt;right!=NULL)&#123;</span></span><br><span class="line"><span class="comment">                snode.push(now-&gt;right);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        reverse(vires.begin(),vires.end());</span></span><br><span class="line"><span class="comment">        return vires;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="层次遍历-分层返回"><a href="#层次遍历-分层返回" class="headerlink" title="层次遍历(分层返回)"></a>层次遍历(分层返回)</h5><ul>
<li><a href="https://leetcode.com/problems/binary-tree-level-order-traversal/" target="_blank" rel="noopener">102. Binary Tree Level Order Traversal</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; levelOrder(TreeNode* root) &#123;</span><br><span class="line">        <span class="built_in">queue</span>&lt;pair&lt;TreeNode *,<span class="keyword">int</span>&gt;&gt; que;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;        </span><br><span class="line">        <span class="keyword">if</span>(root==<span class="literal">nullptr</span>) <span class="keyword">return</span> res;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</span><br><span class="line">        tmp.push_back(root-&gt;val);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(root-&gt;left==<span class="literal">nullptr</span> &amp;&amp; root-&gt;right==<span class="literal">nullptr</span>) <span class="keyword">return</span> res.push_back(tmp),res;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;left!=<span class="literal">nullptr</span>) que.push(&#123;root-&gt;left,<span class="number">2</span>&#125;);</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;right!=<span class="literal">nullptr</span>) que.push(&#123;root-&gt;right,<span class="number">2</span>&#125;);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> lastfloor=<span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">            pair&lt;TreeNode *,<span class="keyword">int</span>&gt; now=que.front(); que.pop();</span><br><span class="line">            <span class="keyword">if</span>(now.second!=lastfloor)&#123;<span class="comment">//如果是新的一层，则将tmp加到res中</span></span><br><span class="line">                res.push_back(tmp);</span><br><span class="line">                tmp.erase(tmp.begin(),tmp.end());</span><br><span class="line">                tmp.push_back(now.first-&gt;val);</span><br><span class="line">                <span class="keyword">if</span>(now.first-&gt;left!=<span class="literal">nullptr</span>) que.push(&#123;now.first-&gt;left,now.second+<span class="number">1</span>&#125;);</span><br><span class="line">                <span class="keyword">if</span>(now.first-&gt;right!=<span class="literal">nullptr</span>) que.push(&#123;now.first-&gt;right,now.second+<span class="number">1</span>&#125;);</span><br><span class="line">                lastfloor=now.second;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;<span class="comment">//同一层都加到tmp中</span></span><br><span class="line">                tmp.push_back(now.first-&gt;val);</span><br><span class="line">                <span class="keyword">if</span>(now.first-&gt;left!=<span class="literal">nullptr</span>) que.push(&#123;now.first-&gt;left,now.second+<span class="number">1</span>&#125;);</span><br><span class="line">                <span class="keyword">if</span>(now.first-&gt;right!=<span class="literal">nullptr</span>) que.push(&#123;now.first-&gt;right,now.second+<span class="number">1</span>&#125;);</span><br><span class="line">                lastfloor=now.second;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        res.push_back(tmp);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*递归版</span></span><br><span class="line"><span class="comment">vector&lt;vector&lt;int&gt;&gt; ret;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">void buildVector(TreeNode *root, int depth)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    if(root == NULL) return;</span></span><br><span class="line"><span class="comment">    if(ret.size() == depth)</span></span><br><span class="line"><span class="comment">        ret.push_back(vector&lt;int&gt;());</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    ret[depth].push_back(root-&gt;val);</span></span><br><span class="line"><span class="comment">    buildVector(root-&gt;left, depth + 1);</span></span><br><span class="line"><span class="comment">    buildVector(root-&gt;right, depth + 1);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">vector&lt;vector&lt;int&gt; &gt; levelOrder(TreeNode *root) &#123;</span></span><br><span class="line"><span class="comment">    buildVector(root, 0);</span></span><br><span class="line"><span class="comment">    return ret;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="遍历相关变型"><a href="#遍历相关变型" class="headerlink" title="遍历相关变型"></a>遍历相关变型</h5><ul>
<li><a href="https://leetcode.com/problems/range-sum-of-bst/" target="_blank" rel="noopener">938. Range Sum of BST</a><br>题意：统计二叉搜索树中L~R之间的数之和。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//可以利用二叉搜索树特性再剪枝优化</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">rangeSumBST</span><span class="params">(TreeNode* root, <span class="keyword">int</span> L, <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root==<span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> tmp=<span class="number">0</span>;</span><br><span class="line">        tmp+=rangeSumBST(root-&gt;left,L,R);</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;val&gt;=L &amp;&amp; root-&gt;val&lt;=R)&#123;</span><br><span class="line">            tmp+=root-&gt;val;</span><br><span class="line">        &#125;</span><br><span class="line">        tmp+=rangeSumBST(root-&gt;right,L,R);</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="图"><a href="#图" class="headerlink" title="图"></a>图</h3><h4 id="有向图"><a href="#有向图" class="headerlink" title="有向图"></a>有向图</h4><ul>
<li><a href="https://leetcode.com/problems/course-schedule/" target="_blank" rel="noopener">207.Course Schedule</a><br>题目描述：判断有向图中是否存在环/拓扑排序。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1.BFS法：每次挑选图中入度为0的点，去除与其相连的边。</span></span><br><span class="line"><span class="comment">　　邻接矩阵graph表示有向图，</span></span><br><span class="line"><span class="comment">　　inNumber表示每个点的入度数量，</span></span><br><span class="line"><span class="comment">　　inNumberIsZero为队列，存储入度为0的点</span></span><br><span class="line"><span class="comment">　　1 初始化邻接矩阵、入度数量矩阵</span></span><br><span class="line"><span class="comment">　　2 将入度为0的点入队</span></span><br><span class="line"><span class="comment">　　3 每次从队列中取出入度为0的点，然后去除该点出发的所有边</span></span><br><span class="line"><span class="comment">　　　　去除边后，发现有入度为0的点，就继续入队。</span></span><br><span class="line"><span class="comment">　　4 判断是否有点入度不为0.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; prerequisites)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; graph(numCourses);</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; inNumber(numCourses,<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; inNumberIsZero;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> a:prerequisites)&#123;</span><br><span class="line">            graph[a[<span class="number">1</span>]].push_back(a[<span class="number">0</span>]);</span><br><span class="line">            inNumber[a[<span class="number">0</span>]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;inNumber.size();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(inNumber[i]==<span class="number">0</span>) inNumberIsZero.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!inNumberIsZero.empty())&#123;</span><br><span class="line">            <span class="keyword">int</span> tmp=inNumberIsZero.front(); inNumberIsZero.pop();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;graph[tmp].size();i++)&#123;</span><br><span class="line">                inNumber[graph[tmp][i]]--;</span><br><span class="line">                <span class="keyword">if</span>(inNumber[graph[tmp][i]]==<span class="number">0</span>)&#123;</span><br><span class="line">                    inNumberIsZero.push(graph[tmp][i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;inNumber.size();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(inNumber[i]!=<span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">2.DFS法：依次将每个点作为起点，深度遍历。</span></span><br><span class="line"><span class="comment">　　设置visited数组，记录每个点的访问情况，0表示未访问，1表示访问过了，-1表示该次遍历路径该点已访问过(遇到-1表示产生环了)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; prerequisites)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; graph(numCourses);</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; visited(numCourses,<span class="number">0</span>);</span><br><span class="line">		<span class="comment">//建立有向图</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> a:prerequisites)&#123;</span><br><span class="line">            graph[a[<span class="number">1</span>]].push_back(a[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">		<span class="comment">//依次从每个顶点出发，深度遍历。</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;numCourses;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(hasCyclicDfs(graph,visited,i))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">hasCyclicDfs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;graph,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;visited,<span class="keyword">int</span> start)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(visited[start]==<span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(visited[start]==<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        visited[start]=<span class="number">-1</span>;	<span class="comment">//标记该点已访问过(当前路径中)</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;graph[start].size();i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(hasCyclicDfs(graph,visited,graph[start][i]))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        visited[start]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="无向图"><a href="#无向图" class="headerlink" title="无向图"></a>无向图</h4><hr>
<h3 id="复杂数据结构"><a href="#复杂数据结构" class="headerlink" title="复杂数据结构"></a>复杂数据结构</h3><h4 id="树状数组"><a href="#树状数组" class="headerlink" title="树状数组"></a>树状数组</h4><p>xxx</p>
<h4 id="红黑树"><a href="#红黑树" class="headerlink" title="红黑树"></a>红黑树</h4><ul>
<li><a href="http://taowusheng.cn/2019/11/20/20191120%20%E7%BA%A2%E9%BB%91%E6%A0%91%E5%AD%A6%E4%B9%A0%E6%84%9F%E6%83%B3/">红黑树作者的课件</a></li>
</ul>
<h4 id="线段树"><a href="#线段树" class="headerlink" title="线段树"></a>线段树</h4><h5 id="单点修改，区间查询的区间和问题"><a href="#单点修改，区间查询的区间和问题" class="headerlink" title="单点修改，区间查询的区间和问题"></a>单点修改，区间查询的区间和问题</h5><ul>
<li><a href="https://leetcode.com/problems/range-sum-query-mutable/" target="_blank" rel="noopener">307.Range Sum Query - Mutable</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//线段树是利用二分思想解决区间问题</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SegmentTreeNode</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    SegmentTreeNode(<span class="keyword">int</span> start,<span class="keyword">int</span> end,<span class="keyword">int</span> sum,</span><br><span class="line">                    SegmentTreeNode *left=<span class="literal">nullptr</span>,SegmentTreeNode *right=<span class="literal">nullptr</span>):</span><br><span class="line">            start(start),end(end),sum(sum),left(left),right(right) &#123;&#125;</span><br><span class="line">    <span class="comment">//禁用赋值构造和拷贝构造函数</span></span><br><span class="line">    SegmentTreeNode(<span class="keyword">const</span> SegmentTreeNode&amp;)=<span class="keyword">delete</span>;</span><br><span class="line">    SegmentTreeNode&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> SegmentTreeNode&amp;)=<span class="keyword">delete</span>;</span><br><span class="line">    ~SegmentTreeNode()&#123;</span><br><span class="line">        <span class="keyword">delete</span> left;</span><br><span class="line">        <span class="keyword">delete</span> right;</span><br><span class="line">        left=right=<span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> start;</span><br><span class="line">    <span class="keyword">int</span> end;</span><br><span class="line">    <span class="keyword">int</span> sum; <span class="comment">//可以是max，min</span></span><br><span class="line">    SegmentTreeNode *left;</span><br><span class="line">    SegmentTreeNode *right;</span><br><span class="line">&#125;; <span class="comment">//end class SegmentTreeNode</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumArray</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NumArray(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        nums_.swap(nums);</span><br><span class="line">        <span class="keyword">if</span>(!nums_.empty())&#123;</span><br><span class="line">            root_.reset(buildTree(<span class="number">0</span>,nums_.size()<span class="number">-1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        updateTree(root_.get(),i,val-nums_[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">sumRange</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sumRange(root_.get(),i,j);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="comment">//创建线段树</span></span><br><span class="line">    <span class="function">SegmentTreeNode *<span class="title">buildTree</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(start==end)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> SegmentTreeNode(start,end,nums_[start]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid=start+((end-start)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        SegmentTreeNode *left=buildTree(start,mid);</span><br><span class="line">        SegmentTreeNode *right=buildTree(mid+<span class="number">1</span>,end);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> SegmentTreeNode(start,end,left-&gt;sum+right-&gt;sum,left,right);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//更新线段树，将i处的值增加addval</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updateTree</span><span class="params">(SegmentTreeNode *root,<span class="keyword">int</span> i,<span class="keyword">int</span> addval)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;start==i &amp;&amp; root-&gt;end==i)&#123;</span><br><span class="line">            root-&gt;sum+=addval;</span><br><span class="line">            nums_[i]+=addval;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid=root-&gt;start+((root-&gt;end-root-&gt;start)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(i&lt;=mid)&#123;</span><br><span class="line">            updateTree(root-&gt;left,i,addval);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            updateTree(root-&gt;right,i,addval);</span><br><span class="line">        &#125;</span><br><span class="line">        root-&gt;sum+=addval;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//计算区间i到j的和</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">sumRange</span><span class="params">(SegmentTreeNode *root,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;start==i &amp;&amp; root-&gt;end==j)&#123;</span><br><span class="line">            <span class="keyword">return</span> root-&gt;sum;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid=root-&gt;start+((root-&gt;end-root-&gt;start)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(i&gt;mid)&#123;</span><br><span class="line">            <span class="keyword">return</span> sumRange(root-&gt;right,i,j);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(j&lt;=mid)&#123;</span><br><span class="line">            <span class="keyword">return</span> sumRange(root-&gt;left,i,j);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> sumRange(root-&gt;left,i,mid)+sumRange(root-&gt;right,mid+<span class="number">1</span>,j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* 打印叶子节点，用于调试</span></span><br><span class="line"><span class="comment">    void printTree(SegmentTreeNode *root)&#123;</span></span><br><span class="line"><span class="comment">        if(root-&gt;left==nullptr &amp;&amp; root-&gt;right==nullptr)&#123;</span></span><br><span class="line"><span class="comment">            cout&lt;&lt;root-&gt;sum&lt;&lt;" ";</span></span><br><span class="line"><span class="comment">            return ;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        printTree(root-&gt;left);</span></span><br><span class="line"><span class="comment">        printTree(root-&gt;right);        </span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums_;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">unique_ptr</span>&lt;SegmentTreeNode&gt; root_;</span><br><span class="line">&#125;; <span class="comment">//end class NumArray</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="区间修改，单点查询"><a href="#区间修改，单点查询" class="headerlink" title="区间修改，单点查询"></a>区间修改，单点查询</h5><ul>
<li><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1556" target="_blank" rel="noopener">hdu 1556 Color the ball</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SegmentTreeNode</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    SegmentTreeNode(<span class="keyword">int</span> start,<span class="keyword">int</span> end,<span class="keyword">int</span> sum,<span class="keyword">int</span> val=<span class="number">0</span>,SegmentTreeNode *left=<span class="literal">nullptr</span>,SegmentTreeNode *right=<span class="literal">nullptr</span>):</span><br><span class="line">            start(start),end(end),sum(sum),updateval(val),left(left),right(right) &#123;&#125;</span><br><span class="line">    <span class="comment">//禁用赋值构造和拷贝构造函数</span></span><br><span class="line">    SegmentTreeNode(<span class="keyword">const</span> SegmentTreeNode&amp;)=<span class="keyword">delete</span>;</span><br><span class="line">    SegmentTreeNode&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> SegmentTreeNode&amp;)=<span class="keyword">delete</span>;</span><br><span class="line">    ~SegmentTreeNode()&#123;</span><br><span class="line">        <span class="keyword">delete</span> left;</span><br><span class="line">        <span class="keyword">delete</span> right;</span><br><span class="line">        left=right=<span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> start;</span><br><span class="line">    <span class="keyword">int</span> end;</span><br><span class="line">    <span class="keyword">int</span> sum; <span class="comment">//可以是max，min</span></span><br><span class="line">    <span class="keyword">int</span> updateval;  <span class="comment">//用来记录当前区间上update过的数值</span></span><br><span class="line">    SegmentTreeNode *left;</span><br><span class="line">    SegmentTreeNode *right;</span><br><span class="line">&#125;; <span class="comment">//end class SegmentTreeNode</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumArray</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NumArray(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        nums_.swap(nums);</span><br><span class="line">        <span class="keyword">if</span>(!nums_.empty())&#123;</span><br><span class="line">            root_.reset(buildTree(<span class="number">0</span>,nums_.size()<span class="number">-1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> e, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        updateTree(root_.get(),s,e,val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queryTree(root_.get(),i);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="comment">//创建线段树</span></span><br><span class="line">    <span class="function">SegmentTreeNode *<span class="title">buildTree</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(start==end)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> SegmentTreeNode(start,end,nums_[start]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid=start+((end-start)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        SegmentTreeNode *left=buildTree(start,mid);</span><br><span class="line">        SegmentTreeNode *right=buildTree(mid+<span class="number">1</span>,end);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> SegmentTreeNode(start,end,left-&gt;sum+right-&gt;sum,<span class="number">0</span>,left,right);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//区间更新线段树，将区间s~e处的值增加addval</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updateTree</span><span class="params">(SegmentTreeNode *root,<span class="keyword">int</span> s,<span class="keyword">int</span> e,<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;start==s &amp;&amp; root-&gt;end==e)&#123;</span><br><span class="line">            root-&gt;updateval+=val;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid=root-&gt;start+((root-&gt;end-root-&gt;start)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(s&gt;mid)&#123;</span><br><span class="line">            updateTree(root-&gt;right,s,e,val);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(e&lt;=mid)&#123;</span><br><span class="line">            updateTree(root-&gt;left,s,e,val);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            updateTree(root-&gt;left,s,mid,val);</span><br><span class="line">            updateTree(root-&gt;right,mid+<span class="number">1</span>,e,val);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//单点查询</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">queryTree</span><span class="params">(SegmentTreeNode *root,<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;start==i &amp;&amp; root-&gt;end==i)&#123;</span><br><span class="line">            <span class="keyword">return</span> root-&gt;sum+root-&gt;updateval;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid=root-&gt;start+((root-&gt;end-root-&gt;start)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(i&lt;=mid)&#123;</span><br><span class="line">            <span class="keyword">return</span> queryTree(root-&gt;left,i)+root-&gt;updateval;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> queryTree(root-&gt;right,i)+root-&gt;updateval;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums_;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">unique_ptr</span>&lt;SegmentTreeNode&gt; root_;</span><br><span class="line">&#125;; <span class="comment">//end class NumArray</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::ios::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> N;</span><br><span class="line">    <span class="keyword">int</span> a,b;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;N)&#123;</span><br><span class="line">        <span class="keyword">if</span>(N==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp(N+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="function">NumArray <span class="title">numarry</span><span class="params">(tmp)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">            numarry.update(a,b,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(N==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;numarry.query(<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;numarry.query(i+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(i!=N<span class="number">-1</span>)&#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="区间修改，区间查询"><a href="#区间修改，区间查询" class="headerlink" title="区间修改，区间查询"></a>区间修改，区间查询</h5><ul>
<li><a href="https://www.luogu.com.cn/problem/P3372" target="_blank" rel="noopener">洛谷oj:P3372【模板】线段树1</a></li>
<li><p>以下有两个版本,第一个是pushdown版本。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SegmentTreeNode</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    SegmentTreeNode(<span class="keyword">int</span> start,<span class="keyword">int</span> end,<span class="keyword">long</span> <span class="keyword">long</span> sum,<span class="keyword">long</span> <span class="keyword">long</span> val=<span class="number">0</span>,SegmentTreeNode *left=<span class="literal">nullptr</span>,SegmentTreeNode *right=<span class="literal">nullptr</span>):</span><br><span class="line">            start(start),end(end),sum(sum),updateval(val),left(left),right(right) &#123;&#125;</span><br><span class="line">    <span class="comment">//禁用赋值构造和拷贝构造函数</span></span><br><span class="line">    SegmentTreeNode(<span class="keyword">const</span> SegmentTreeNode&amp;)=<span class="keyword">delete</span>;</span><br><span class="line">    SegmentTreeNode&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> SegmentTreeNode&amp;)=<span class="keyword">delete</span>;</span><br><span class="line">    ~SegmentTreeNode()&#123;</span><br><span class="line">        <span class="keyword">delete</span> left;</span><br><span class="line">        <span class="keyword">delete</span> right;</span><br><span class="line">        left=right=<span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> start;</span><br><span class="line">    <span class="keyword">int</span> end;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> sum; <span class="comment">//可以是max，min</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> updateval;  <span class="comment">//用来记录当前区间上update过的数值</span></span><br><span class="line">    SegmentTreeNode *left;</span><br><span class="line">    SegmentTreeNode *right;</span><br><span class="line">&#125;; <span class="comment">//end class SegmentTreeNode</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumArray</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NumArray(<span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt;&amp; nums) &#123;</span><br><span class="line">        nums_.swap(nums);</span><br><span class="line">        <span class="keyword">if</span>(!nums_.empty())&#123;</span><br><span class="line">            root_.reset(buildTree(<span class="number">0</span>,nums_.size()<span class="number">-1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> e, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        updateTree(root_.get(),s,e,val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> e)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queryTree(root_.get(),s,e);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="comment">//创建线段树</span></span><br><span class="line">    <span class="function">SegmentTreeNode *<span class="title">buildTree</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(start==end)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> SegmentTreeNode(start,end,nums_[start]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid=start+((end-start)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        SegmentTreeNode *left=buildTree(start,mid);</span><br><span class="line">        SegmentTreeNode *right=buildTree(mid+<span class="number">1</span>,end);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> SegmentTreeNode(start,end,left-&gt;sum+right-&gt;sum,<span class="number">0</span>,left,right);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//区间更新线段树，将区间s~e处的值增加addval</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updateTree</span><span class="params">(SegmentTreeNode *root,<span class="keyword">int</span> s,<span class="keyword">int</span> e,<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;start==s &amp;&amp; root-&gt;end==e)&#123;</span><br><span class="line">            root-&gt;sum+=val*(e-s+<span class="number">1</span>);</span><br><span class="line">            root-&gt;updateval+=val;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        pushdown(root);</span><br><span class="line">        <span class="keyword">int</span> mid=root-&gt;start+((root-&gt;end-root-&gt;start)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(s&gt;mid)&#123;</span><br><span class="line">            updateTree(root-&gt;right,s,e,val);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(e&lt;=mid)&#123;</span><br><span class="line">            updateTree(root-&gt;left,s,e,val);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            updateTree(root-&gt;left,s,mid,val);</span><br><span class="line">            updateTree(root-&gt;right,mid+<span class="number">1</span>,e,val);</span><br><span class="line">        &#125;</span><br><span class="line">        root-&gt;sum=root-&gt;left-&gt;sum+root-&gt;right-&gt;sum;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//区间查询</span></span><br><span class="line">    <span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">queryTree</span><span class="params">(SegmentTreeNode *root,<span class="keyword">int</span> s,<span class="keyword">int</span> e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;start==s &amp;&amp; root-&gt;end==e)&#123;</span><br><span class="line">            <span class="keyword">return</span> root-&gt;sum;</span><br><span class="line">        &#125;</span><br><span class="line">        pushdown(root);</span><br><span class="line">        <span class="keyword">int</span> mid=root-&gt;start+((root-&gt;end-root-&gt;start)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(e&lt;=mid)&#123;</span><br><span class="line">            <span class="keyword">return</span> queryTree(root-&gt;left,s,e);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s&gt;mid)&#123;</span><br><span class="line">            <span class="keyword">return</span> queryTree(root-&gt;right,s,e);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> queryTree(root-&gt;left,s,mid)+queryTree(root-&gt;right,mid+<span class="number">1</span>,e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(SegmentTreeNode *root)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;updateval)&#123;</span><br><span class="line">            root-&gt;left-&gt;updateval+=root-&gt;updateval;</span><br><span class="line">            root-&gt;right-&gt;updateval+=root-&gt;updateval;</span><br><span class="line">            <span class="keyword">int</span> mid=root-&gt;start+((root-&gt;end-root-&gt;start)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">            root-&gt;left-&gt;sum+=root-&gt;updateval*(mid-root-&gt;start+<span class="number">1</span>);</span><br><span class="line">            root-&gt;right-&gt;sum+=root-&gt;updateval*(root-&gt;end-mid);</span><br><span class="line">            root-&gt;updateval=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; nums_;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">unique_ptr</span>&lt;SegmentTreeNode&gt; root_;</span><br><span class="line">&#125;; <span class="comment">//end class NumArray</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::ios::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n,m;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> tmp,oper,x,y,k;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; vi;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vi.resize(n+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;vi[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">NumArray <span class="title">numarry</span><span class="params">(vi)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;oper;</span><br><span class="line">        <span class="keyword">if</span>(oper==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y&gt;&gt;k;</span><br><span class="line">            numarry.update(x,y,k);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;numarry.query(x,y)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>标记永久化版本，去掉了pushdown函数，比上一版本有一常数优化。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SegmentTreeNode</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    SegmentTreeNode(<span class="keyword">int</span> start,<span class="keyword">int</span> end,<span class="keyword">long</span> <span class="keyword">long</span> sum,<span class="keyword">long</span> <span class="keyword">long</span> val=<span class="number">0</span>,SegmentTreeNode *left=<span class="literal">nullptr</span>,SegmentTreeNode *right=<span class="literal">nullptr</span>):</span><br><span class="line">            start(start),end(end),sum(sum),updateval(val),left(left),right(right) &#123;&#125;</span><br><span class="line">    <span class="comment">//禁用赋值构造和拷贝构造函数</span></span><br><span class="line">    SegmentTreeNode(<span class="keyword">const</span> SegmentTreeNode&amp;)=<span class="keyword">delete</span>;</span><br><span class="line">    SegmentTreeNode&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> SegmentTreeNode&amp;)=<span class="keyword">delete</span>;</span><br><span class="line">    ~SegmentTreeNode()&#123;</span><br><span class="line">        <span class="keyword">delete</span> left;</span><br><span class="line">        <span class="keyword">delete</span> right;</span><br><span class="line">        left=right=<span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> start;</span><br><span class="line">    <span class="keyword">int</span> end;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> sum; <span class="comment">//可以是max，min</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> updateval;  <span class="comment">//用来记录当前区间上update过的数值</span></span><br><span class="line">    SegmentTreeNode *left;</span><br><span class="line">    SegmentTreeNode *right;</span><br><span class="line">&#125;; <span class="comment">//end class SegmentTreeNode</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumArray</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NumArray(<span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt;&amp; nums) &#123;</span><br><span class="line">        nums_.swap(nums);</span><br><span class="line">        <span class="keyword">if</span>(!nums_.empty())&#123;</span><br><span class="line">            root_.reset(buildTree(<span class="number">0</span>,nums_.size()<span class="number">-1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> e, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        updateTree(root_.get(),s,e,val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> e)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queryTree(root_.get(),s,e);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="comment">//创建线段树</span></span><br><span class="line">    <span class="function">SegmentTreeNode *<span class="title">buildTree</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(start==end)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> SegmentTreeNode(start,end,nums_[start]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid=start+((end-start)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        SegmentTreeNode *left=buildTree(start,mid);</span><br><span class="line">        SegmentTreeNode *right=buildTree(mid+<span class="number">1</span>,end);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> SegmentTreeNode(start,end,left-&gt;sum+right-&gt;sum,<span class="number">0</span>,left,right);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//区间更新线段树，将区间s~e处的值增加addval</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updateTree</span><span class="params">(SegmentTreeNode *root,<span class="keyword">int</span> s,<span class="keyword">int</span> e,<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">        root-&gt;sum+=val*(e-s+<span class="number">1</span>); <span class="comment">//每次调用该函数，只有整棵线段树的根节点到目标结点的sum值会被更新</span></span><br><span class="line">        <span class="keyword">if</span>(root-&gt;start==s &amp;&amp; root-&gt;end==e)&#123;</span><br><span class="line">            root-&gt;updateval+=val;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid=root-&gt;start+((root-&gt;end-root-&gt;start)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(s&gt;mid)&#123;</span><br><span class="line">            updateTree(root-&gt;right,s,e,val);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(e&lt;=mid)&#123;</span><br><span class="line">            updateTree(root-&gt;left,s,e,val);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            updateTree(root-&gt;left,s,mid,val);</span><br><span class="line">            updateTree(root-&gt;right,mid+<span class="number">1</span>,e,val);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//区间查询</span></span><br><span class="line">    <span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">queryTree</span><span class="params">(SegmentTreeNode *root,<span class="keyword">int</span> s,<span class="keyword">int</span> e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;start==s &amp;&amp; root-&gt;end==e)&#123;</span><br><span class="line">            <span class="keyword">return</span> root-&gt;sum;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid=root-&gt;start+((root-&gt;end-root-&gt;start)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(e&lt;=mid)&#123;</span><br><span class="line">            <span class="keyword">return</span> queryTree(root-&gt;left,s,e)+root-&gt;updateval*(e-s+<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s&gt;mid)&#123;</span><br><span class="line">            <span class="keyword">return</span> queryTree(root-&gt;right,s,e)+root-&gt;updateval*(e-s+<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> queryTree(root-&gt;left,s,mid)+queryTree(root-&gt;right,mid+<span class="number">1</span>,e)+root-&gt;updateval*(e-s+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; nums_;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">unique_ptr</span>&lt;SegmentTreeNode&gt; root_;</span><br><span class="line">&#125;; <span class="comment">//end class NumArray</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::ios::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n,m;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> tmp,oper,x,y,k;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; vi;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    vi.resize(n+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;vi[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">NumArray <span class="title">numarry</span><span class="params">(vi)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;oper;</span><br><span class="line">        <span class="keyword">if</span>(oper==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y&gt;&gt;k;</span><br><span class="line">            numarry.update(x,y,k);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;numarry.query(x,y)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="排列组合"><a href="#排列组合" class="headerlink" title="排列组合"></a>排列组合</h3><h4 id="全错排问题"><a href="#全错排问题" class="headerlink" title="全错排问题"></a>全错排问题</h4><p>题意：有写给不同人的10封信，分别装到不同地址的10个信封中，要求不能有任意一个人收到正确地信，问多少种方案。<br>思路：1.首先再明确一下全错排问题的定义，重排n个元素，要求每个元素新位置都不是原来的位置。<br>2.假设当前n封信分别正确装到n个信封中了，我们先将n号信错排，它有n-1种可能。假设n号信占用的是k号信封，此时我们要给k号信找位置，此时有分两种情况。<br>如果将k号信放到了n号信封，那么就相当于n号信和k号信交换了位置(解决第n封信的全错排问题有n-1种方案)，然后剩下的n-2封信也是面临全错排问题即F(n-2)种可能。<br>如果将k号不放到n号信封(可以看做n号信封是k号信的正确位置)，除了k号信和n号信的其他n-2封信也都不能放到原位置。这样n-2加第k号信总共n-1封信，又构成一个全错排问题，即F(n-1).<br>所以递推公式F(n)=(n-1)*(F(n-1)+F(n-2));</p>
<ul>
<li><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1465" target="_blank" rel="noopener">hdu 1465 不容易系列之一</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span>  n;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; f(<span class="number">1005</span>,<span class="number">0</span>);</span><br><span class="line">    f[<span class="number">2</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">long</span> <span class="keyword">long</span> i=<span class="number">3</span>;i&lt;=<span class="number">1000</span>;i++)&#123;</span><br><span class="line">        f[i]=(i<span class="number">-1</span>)*(f[i<span class="number">-1</span>]+f[i<span class="number">-2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;f[n]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="其他面试题"><a href="#其他面试题" class="headerlink" title="其他面试题"></a>其他面试题</h3><h4 id="大数组排序"><a href="#大数组排序" class="headerlink" title="大数组排序"></a>大数组排序</h4><p><strong>外部排序</strong></p>
<p><strong>对小文件归并排序</strong></p>
<h4 id="topK问题"><a href="#topK问题" class="headerlink" title="topK问题"></a>topK问题</h4><ul>
<li>n很小，k很小，快速选择算法。</li>
<li>n很大，k很小，大顶堆。</li>
<li>n很大，k很大，外部排序，取前k个数。</li>
</ul>
<h4 id="页面置换算法"><a href="#页面置换算法" class="headerlink" title="页面置换算法"></a>页面置换算法</h4><h5 id="LRU-最近最久未使用"><a href="#LRU-最近最久未使用" class="headerlink" title="LRU(最近最久未使用)"></a>LRU(最近最久未使用)</h5><ul>
<li><a href="https://leetcode.com/problems/lru-cache/" target="_blank" rel="noopener">LeetCode 146. LRU Cache</a><br>题意：get操作，如果key在缓存，返回其val并更新访问。未在缓存返回-1。<br>put操作，key在缓存对其更新(更新val和访问次序)。不在缓存则插入，如果超出容量，删除最久未访问的那个key。<br>思路：需要维护访问次序，选择list。需要快速判断是否在缓存，选择unordered_map,更新操作可以分为删除原key，插入新key，所以unordered_map的val应当记录key在list中的位置。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> __=[]()&#123;<span class="built_in">std</span>::ios::sync_with_stdio(<span class="literal">false</span>);<span class="keyword">return</span> <span class="number">0</span>;&#125;();</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    LRUCache(<span class="keyword">int</span> capacity) &#123;</span><br><span class="line">        pageNumber=capacity;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//如果访问页在内存中，返回其value并更新该key。如果访问页不在，返回-1。</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> it=pageToCache.find(key);</span><br><span class="line">        <span class="keyword">if</span>(it==pageToCache.end())&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; tmp=*(it-&gt;second);</span><br><span class="line">        cache.erase(it-&gt;second);</span><br><span class="line">        cache.push_front(tmp);</span><br><span class="line">        pageToCache[key]=cache.begin();</span><br><span class="line">        <span class="keyword">return</span> tmp.second;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//如果要设置的页不在内存，则插入该页，并判断是否超出限制。如果该页在内存，则更新该页。</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> it=pageToCache.find(key);</span><br><span class="line">        pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; tmp(key,value);</span><br><span class="line">        <span class="keyword">if</span>(it!=pageToCache.end())&#123;</span><br><span class="line">            (*(it-&gt;second)).second=value;</span><br><span class="line">            cache.erase(it-&gt;second);</span><br><span class="line">            cache.push_front(tmp);</span><br><span class="line">            pageToCache[key]=cache.begin();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            cache.push_front(tmp);</span><br><span class="line">            pageToCache[key]=cache.begin();</span><br><span class="line">            <span class="keyword">if</span>(cache.size()&gt;pageNumber)&#123;</span><br><span class="line">                pageToCache.erase(cache.back().first);</span><br><span class="line">                cache.pop_back();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">list</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&gt; cache;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="built_in">list</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&gt;::iterator&gt; pageToCache;</span><br><span class="line">    <span class="keyword">int</span> pageNumber;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="LFU-最少使用算法"><a href="#LFU-最少使用算法" class="headerlink" title="LFU(最少使用算法)"></a>LFU(最少使用算法)</h5><ul>
<li><a href="https://leetcode.com/problems/lfu-cache/" target="_blank" rel="noopener">460 LFU Cache</a><br>题意：LFU是最少使用算法，所以在需要将页面置换出去时，就选择一个访问频率最小的。<br>我们需要提供get()和put()两个操作。对于get(key)，如果该key不在缓存，就返回-1,。如果在缓存内，就返回其value并且将其频率更新。对于put(key,val)，如果该key在缓存中，就将其val更新，频率更新。如果不在缓存，就看缓存是否已满，如果缓存满了，就选择一个访问频率最低的删除。然后再插入新的(key,val,频率1)。(注意一旦页面被置换出去，频率清零。另外get和put都会增加访问频率)<br>思路：根据题意，我们需要一个快速判断当前key是否在缓存的一个操作，要求时间复杂度o(1)，可以选用unordered_map。另外需要存着key-val并且能够快速寻找访问频率最小的key，于是可以将不同的key-val按照访问频率给分类，应该可以用vector&lt;list<node>&gt;或者unordered_map&lt;int,list<node>&gt;吧，下面是选用的后者。(还要注意当有多个访问频率相同的key-val时，要选择最久未访问的。所以每次删除key-val时，删除的是链表尾，更新key-val时，将其插入到链表头。)<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">int</span> freq;</span><br><span class="line">    Node(<span class="keyword">int</span> k,<span class="keyword">int</span> v,<span class="keyword">int</span> f):key(k),val(v),freq(f)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LFUCache</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    LFUCache(<span class="keyword">int</span> _capacity):minfreq(<span class="number">0</span>),capacity(_capacity) &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(capacity==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">auto</span> it=cache.find(key);</span><br><span class="line">		<span class="comment">//未找到该key，返回-1；</span></span><br><span class="line">        <span class="keyword">if</span>(it==cache.end()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">int</span> val=it-&gt;second-&gt;val,freq=it-&gt;second-&gt;freq;</span><br><span class="line">		<span class="comment">//从访问频率freq的链表中删除key</span></span><br><span class="line">        freq_page[freq].erase(it-&gt;second);</span><br><span class="line">        <span class="keyword">if</span>(minfreq==freq &amp;&amp; freq_page[freq].size()==<span class="number">0</span>) minfreq++;</span><br><span class="line">		<span class="comment">//将访问的key更新其freq，并存到freq+1处的链表上。</span></span><br><span class="line">        freq_page[freq+<span class="number">1</span>].push_front(Node(key,val,freq+<span class="number">1</span>));</span><br><span class="line">		<span class="comment">//更新hash表中的指针</span></span><br><span class="line">        cache[key]=freq_page[freq+<span class="number">1</span>].begin();</span><br><span class="line">        <span class="keyword">return</span> val;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//如果容量为0，则退出</span></span><br><span class="line">        <span class="keyword">if</span>(capacity==<span class="number">0</span>) <span class="keyword">return</span> ;</span><br><span class="line">        <span class="keyword">auto</span> it=cache.find(key);</span><br><span class="line">        <span class="comment">//如果hash表中没有该key，需要添加当前key value</span></span><br><span class="line">        <span class="keyword">if</span>(it==cache.end())&#123;</span><br><span class="line">            <span class="comment">//如果当前容量满了，需要先删除访问频率最小的那页，再添加新页</span></span><br><span class="line">            <span class="keyword">if</span>(cache.size()==capacity)&#123;</span><br><span class="line">                <span class="keyword">int</span> lastkey=freq_page[minfreq].back().key;</span><br><span class="line">                freq_page[minfreq].pop_back();</span><br><span class="line">                <span class="keyword">if</span>(freq_page[minfreq].size()==<span class="number">0</span>) minfreq++;</span><br><span class="line">                cache.erase(lastkey);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//添加新的一页</span></span><br><span class="line">            freq_page[<span class="number">1</span>].push_front(Node(key,value,<span class="number">1</span>));</span><br><span class="line">            minfreq=<span class="number">1</span>;</span><br><span class="line">            cache[key]=freq_page[<span class="number">1</span>].begin();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;  <span class="comment">//如果hash表中有该key，则更新其value，跟get()操作相似</span></span><br><span class="line">            <span class="keyword">int</span> freq=it-&gt;second-&gt;freq;</span><br><span class="line">            freq_page[freq].erase(it-&gt;second);</span><br><span class="line">            <span class="keyword">if</span>(minfreq==freq &amp;&amp; freq_page[minfreq].size()==<span class="number">0</span>) minfreq++;</span><br><span class="line">            freq_page[freq+<span class="number">1</span>].push_front(Node(key,value,freq+<span class="number">1</span>));</span><br><span class="line">            cache[key]=freq_page[freq+<span class="number">1</span>].begin();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> minfreq;<span class="comment">//最小频率</span></span><br><span class="line">    <span class="keyword">int</span> capacity;<span class="comment">//缓存容量</span></span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="built_in">list</span>&lt;Node&gt;::iterator&gt; cache;	<span class="comment">//key：key，value：key在freq_page中对应链表里的结点位置。</span></span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="built_in">list</span>&lt;Node&gt;&gt; freq_page;	<span class="comment">//key是访问频率，value是处于该访问频率的那些结点。</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your LFUCache object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * LFUCache* obj = new LFUCache(capacity);</span></span><br><span class="line"><span class="comment"> * int param_1 = obj-&gt;get(key);</span></span><br><span class="line"><span class="comment"> * obj-&gt;put(key,value);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
</node></node></li>
</ul>
<h4 id="给定0返回1-amp-给定1返回0"><a href="#给定0返回1-amp-给定1返回0" class="headerlink" title="给定0返回1&amp;给定1返回0"></a>给定0返回1&amp;给定1返回0</h4><p>题意：给定一个有符号整数，如果是0则返回1，如果是1则返回0，多种方法求解。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judge1</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//return a?0:1;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judge2</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a&lt;&lt;<span class="number">31</span>)&gt;=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//return (a-1)!=0;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judge3</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a&lt;&lt;<span class="number">1</span>)==a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judge4</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">abs</span>(a<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judge5</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !((<span class="keyword">bool</span>)a);</span><br><span class="line">    <span class="comment">//return !a;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">judge6</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !(a^(a&gt;&gt;<span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="计算输入的位数"><a href="#计算输入的位数" class="headerlink" title="计算输入的位数"></a>计算输入的位数</h4><ul>
<li>sprintf或fprintf返回值是字符个数。</li>
<li>十进制数字的或借助log。</li>
<li>除以10再右移。</li>
</ul>
<h4 id="常见的树结构"><a href="#常见的树结构" class="headerlink" title="常见的树结构"></a>常见的树结构</h4><p><strong>二叉树</strong></p>
<ul>
<li>一棵树，每个节点可以有0-2个子节点。</li>
</ul>
<p><strong>满二叉树</strong></p>
<ul>
<li>每个节点都有两个子节点。</li>
<li>第k层的结点数为2^(k-1)</li>
<li>总结点数为2^k-1</li>
</ul>
<p><strong>完全二叉树</strong></p>
<ul>
<li>将树从上到下从左到右编号正好是1-n，中间没有空节点。或者说除了最下面一层，上面是个满二叉树，最下面一层的结点都在左边。</li>
<li>n0是度为0的结点，即叶子节点。N为总结点。两者关系为：2 <em> n0 - 1 = N(N为奇数) 或 2 </em> n0 = N(N为偶数)</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">设完全二叉树中度为i的节点为ni，总节点数为N，总树枝数为b，则有：</span><br><span class="line">n0 + n1 + n2 = N</span><br><span class="line"><span class="number">0</span> * n0 + <span class="number">1</span> * n1 + <span class="number">2</span> * n2 = b</span><br><span class="line">又因为除了根节点外，每个节点都有且只有一个树枝向上连接：</span><br><span class="line">N = b + <span class="number">1</span></span><br><span class="line">以上三式可得：</span><br><span class="line">n2 = n0 - <span class="number">1</span></span><br><span class="line">因为完全二叉树中，度为<span class="number">1</span>的节点为<span class="number">1</span>或<span class="number">0</span>，故：</span><br><span class="line"><span class="number">2</span> * n0 - <span class="number">1</span> = N 或 <span class="number">2</span> * n0 = N</span><br><span class="line">此即为完全二叉树中叶子节点和总结点的数量关系</span><br><span class="line"></span><br><span class="line">作者：狗子孙</span><br><span class="line">链接：https:<span class="comment">//www.jianshu.com/p/93ce2340cd3b</span></span><br></pre></td></tr></table></figure>
<p><strong>二叉搜索树</strong></p>
<ul>
<li>对于每个结点来说，左子树的值都小于当前结点，右子树的值都大于当前结点。</li>
<li>插入一个完全有序的序列会导致树退化成链表。</li>
</ul>
<p><strong>平衡二叉树/AVL树</strong></p>
<ul>
<li>平衡二叉树一定是一棵二叉搜索树，只不过多了“平衡”的特点。</li>
<li>平衡二叉树始终保证每个结点的左右子树高度查小于等于1.</li>
</ul>
<p><strong>b树/b-树</strong><br>1.定义&amp;性质</p>
<ul>
<li>b树是一个m叉的平衡树。</li>
<li>一个m(m&gt;2)阶的B树有以下性质：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">每一个节点最多有 m 个子节点</span><br><span class="line">每一个非叶子节点（除根节点）最少有 ⌈m/<span class="number">2</span>⌉ 个子节点</span><br><span class="line">如果根节点不是叶子节点，那么它至少有两个子节点</span><br><span class="line">有 k 个子节点的非叶子节点拥有 k − <span class="number">1</span> 个键(该结点有k个指针，k<span class="number">-1</span>个元素)</span><br><span class="line">所有的叶子节点都在同一层</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>2.特性</p>
<ul>
<li>每个结点都储存数据。</li>
<li>读写的时间复杂度最好o(1),最坏o(logn)，所以时间上是不稳定的。</li>
<li>每个结点都存储数据，做范围查询时效率不高。</li>
</ul>
<p>3.应用</p>
<ul>
<li>文件系统</li>
<li>MongoDB的索引</li>
</ul>
<p><strong>b+树</strong><br>1.定义&amp;性质</p>
<ul>
<li>b+树也是一个m叉的平衡树，但是与b树有几处不同：(1)非叶子结点上不储存数据，所有数据都储存在叶子节点上。(2)每个结点上子结点指针数量和键数量相同。(3)所有叶子结点都在一层，并且从左到右是用一个链表串起来的。</li>
<li>一个m阶b+树有以下性质：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">每个结点至多有m个子结点。</span><br><span class="line">除根结点外，每个结点至少有<span class="built_in">ceil</span>(m/<span class="number">2</span>)个子结点</span><br><span class="line">根结点至少有两个子结点。</span><br><span class="line">一个结点有k个子结点，就有k个关键字。</span><br><span class="line">所有叶子结点在同一层</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>2.特点</p>
<ul>
<li>只有叶子节点存储数据。非叶子结点不存储数据，只作索引用。</li>
<li>每次操作，时间复杂度都是logn</li>
<li>方便作范围查询。</li>
</ul>
<p>3.应用</p>
<ul>
<li>数据库索引</li>
</ul>
<p><strong>红黑树</strong></p>
<p><strong>线段树</strong></p>
<p><strong>字典树</strong></p>
<p><strong>哈弗曼树</strong></p>
<p><strong>败者树</strong></p>
<ul>
<li>北大教学录像：<a href="https://www.youtube.com/watch?v=6PIsXdMWDWU&amp;ab_channel=FreeCourse" target="_blank" rel="noopener">https://www.youtube.com/watch?v=6PIsXdMWDWU&amp;ab_channel=FreeCourse</a></li>
</ul>
<p><strong>胜者树</strong></p>
<p><strong>主席树</strong></p>
<h4 id="莫尔斯编码-去重"><a href="#莫尔斯编码-去重" class="headerlink" title="莫尔斯编码|去重"></a>莫尔斯编码|去重</h4><ul>
<li><a href="https://leetcode.com/problems/unique-morse-code-words/" target="_blank" rel="noopener">804. Unique Morse Code Words</a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">uniqueMorseRepresentations</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="built_in">string</span>,<span class="keyword">int</span>&gt; m1;</span><br><span class="line">        <span class="built_in">string</span> morse[<span class="number">30</span>]=&#123;<span class="string">".-"</span>,<span class="string">"-..."</span>,<span class="string">"-.-."</span>,<span class="string">"-.."</span>,<span class="string">"."</span>,<span class="string">"..-."</span>,<span class="string">"--."</span>,<span class="string">"...."</span>,<span class="string">".."</span>,<span class="string">".---"</span>,<span class="string">"-.-"</span>,<span class="string">".-.."</span>,<span class="string">"--"</span>,<span class="string">"-."</span>,<span class="string">"---"</span>,<span class="string">".--."</span>,<span class="string">"--.-"</span>,<span class="string">".-."</span>,<span class="string">"..."</span>,<span class="string">"-"</span>,<span class="string">"..-"</span>,<span class="string">"...-"</span>,<span class="string">".--"</span>,<span class="string">"-..-"</span>,<span class="string">"-.--"</span>,<span class="string">"--.."</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> a : words)&#123;</span><br><span class="line">            <span class="built_in">string</span> tmp=<span class="string">""</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> a2: a)&#123;</span><br><span class="line">                tmp+=morse[a2-<span class="string">'a'</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            m1[tmp]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> m1.size();              </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h3 id="场景题"><a href="#场景题" class="headerlink" title="场景题"></a>场景题</h3><ul>
<li>2G内存100G日志(日志中全是uid)，计算出现频率前10的uid。<br>思路：分100块读取日志，即每次读取1G，用map找出频率前10的uid。这样总共有10*100=1000个uid，然后转化为排序或topK问题。</li>
</ul>
<!-- 
category : ACM_Algorithm CTF C_Cpp JAVA Linux Linux_Kernel 
SQL Cryptography Life Reading Thought Summary Security Unknown Tools  
Network Qt Trusted_Computing English System_Programming Network_Programming
Python Reading_Source
　　←全角空格
![keyboard](https://img-bter)   ←图片
[keyboard](https://img-bter)    ←超链接

|    |   |    |
| :----: | :----:  | :----:  |
|      |  |      |
|        |      |      |
|        |       |    |

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>–&gt;<br>欢迎与我分享你的看法。<br>    转载请注明出处：<a href="http://taowusheng.cn/">http://taowusheng.cn/</a><br>    <img src="/images_/2021_picture/2021_coder_yifei.jpg" alt=""></p>
-->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://taowusheng.cn/2020/03/05/20200305 基础知识_算法笔记/" data-id="cl9smuyoi00q89boirma0i694" class="article-share-link">Share</a>
      
      
        <a href="/2020/03/05/20200305 基础知识_算法笔记/#comments" class="article-comment-link">
          <span class="post-comments-count valine-comment-count" data-xid="/2020/03/05/20200305 基础知识_算法笔记/" itemprop="commentCount"></span>
          Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm/">Algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/">LeetCode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/算法/">算法</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/03/06/20200306 基础知识_智力题/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          基础知识_智力题
        
      </div>
    </a>
  
  
    <a href="/2020/01/06/20200106 利用ICMPv4协议实现一个ping程序/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">利用ICMPv4协议实现一个ping程序</div>
    </a>
  
</nav>

  
</article>



  <section id="comments" class="vcomment">

  </section>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM-Algorithm/">ACM_Algorithm</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Assembly/">Assembly</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/C-Cpp/">C_Cpp</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cryptography/">Cryptography</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA/">JAVA</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Kernel/">Linux_Kernel</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Middleware/">Middleware</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Network/">Network</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Network-Programming/">Network_Programming</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Notes/">Notes</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Qt/">Qt</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Reading/">Reading</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Reading-Source/">Reading_Source</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SQL/">SQL</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Security/">Security</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Summary/">Summary</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/System-Programming/">System_Programming</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Thought/">Thought</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tools/">Tools</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Translation/">Translation</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Trusted-Computing/">Trusted_Computing</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Unknown/">Unknown</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/reading/">reading</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/01背包/" style="font-size: 10px;">01背包</a> <a href="/tags/2017/" style="font-size: 10px;">2017</a> <a href="/tags/2018/" style="font-size: 11.11px;">2018</a> <a href="/tags/2021/" style="font-size: 10px;">2021</a> <a href="/tags/ACM/" style="font-size: 13.33px;">ACM</a> <a href="/tags/ACM-Algorithm/" style="font-size: 10px;">ACM_Algorithm</a> <a href="/tags/Algorithm/" style="font-size: 10px;">Algorithm</a> <a href="/tags/Assembly/" style="font-size: 11.11px;">Assembly</a> <a href="/tags/C/" style="font-size: 11.11px;">C</a> <a href="/tags/C/" style="font-size: 12.22px;">C++</a> <a href="/tags/CTF/" style="font-size: 10px;">CTF</a> <a href="/tags/C-Cpp/" style="font-size: 12.22px;">C_Cpp</a> <a href="/tags/California-Dreaming/" style="font-size: 10px;">California_Dreaming</a> <a href="/tags/Cpp/" style="font-size: 14.44px;">Cpp</a> <a href="/tags/DES/" style="font-size: 10px;">DES</a> <a href="/tags/EDK/" style="font-size: 10px;">EDK</a> <a href="/tags/Effective-Cpp/" style="font-size: 10px;">Effective_Cpp</a> <a href="/tags/English/" style="font-size: 11.11px;">English</a> <a href="/tags/GMP/" style="font-size: 10px;">GMP</a> <a href="/tags/GUI/" style="font-size: 10px;">GUI</a> <a href="/tags/IO/" style="font-size: 10px;">IO</a> <a href="/tags/IO复用/" style="font-size: 10px;">IO复用</a> <a href="/tags/IO多路复用/" style="font-size: 10px;">IO多路复用</a> <a href="/tags/JAVA/" style="font-size: 16.67px;">JAVA</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/JsonCpp/" style="font-size: 10px;">JsonCpp</a> <a href="/tags/KGDB/" style="font-size: 10px;">KGDB</a> <a href="/tags/LeetCode/" style="font-size: 10px;">LeetCode</a> <a href="/tags/Linux/" style="font-size: 13.33px;">Linux</a> <a href="/tags/Linux-Kernel/" style="font-size: 13.33px;">Linux_Kernel</a> <a href="/tags/Middleware/" style="font-size: 10px;">Middleware</a> <a href="/tags/Network/" style="font-size: 11.11px;">Network</a> <a href="/tags/Network-Programming/" style="font-size: 13.33px;">Network_Programming</a> <a href="/tags/Python/" style="font-size: 15.56px;">Python</a> <a href="/tags/Qt/" style="font-size: 10px;">Qt</a> <a href="/tags/RSA/" style="font-size: 10px;">RSA</a> <a href="/tags/SELinux/" style="font-size: 10px;">SELinux</a> <a href="/tags/SHA/" style="font-size: 10px;">SHA</a> <a href="/tags/SQL/" style="font-size: 10px;">SQL</a> <a href="/tags/SSL/" style="font-size: 10px;">SSL</a> <a href="/tags/STL/" style="font-size: 14.44px;">STL</a> <a href="/tags/Security/" style="font-size: 10px;">Security</a> <a href="/tags/Summary/" style="font-size: 17.78px;">Summary</a> <a href="/tags/System-Programming/" style="font-size: 11.11px;">System_Programming</a> <a href="/tags/TSS/" style="font-size: 10px;">TSS</a> <a href="/tags/Thread/" style="font-size: 10px;">Thread</a> <a href="/tags/Tools/" style="font-size: 10px;">Tools</a> <a href="/tags/Translation/" style="font-size: 10px;">Translation</a> <a href="/tags/UDK/" style="font-size: 10px;">UDK</a> <a href="/tags/UDP/" style="font-size: 10px;">UDP</a> <a href="/tags/UEFI/" style="font-size: 10px;">UEFI</a> <a href="/tags/VMware/" style="font-size: 11.11px;">VMware</a> <a href="/tags/apt/" style="font-size: 10px;">apt</a> <a href="/tags/audit2allow/" style="font-size: 10px;">audit2allow</a> <a href="/tags/auth/" style="font-size: 10px;">auth</a> <a href="/tags/bellman/" style="font-size: 10px;">bellman</a> <a href="/tags/bitmap/" style="font-size: 10px;">bitmap</a> <a href="/tags/bjut/" style="font-size: 10px;">bjut</a> <a href="/tags/c/" style="font-size: 10px;">c++</a> <a href="/tags/concept/" style="font-size: 12.22px;">concept</a> <a href="/tags/cpp/" style="font-size: 15.56px;">cpp</a> <a href="/tags/cryptography/" style="font-size: 11.11px;">cryptography</a> <a href="/tags/curses/" style="font-size: 10px;">curses</a> <a href="/tags/deque/" style="font-size: 10px;">deque</a> <a href="/tags/dijkstra/" style="font-size: 10px;">dijkstra</a> <a href="/tags/dpkg/" style="font-size: 10px;">dpkg</a> <a href="/tags/echo/" style="font-size: 10px;">echo</a> <a href="/tags/emulator/" style="font-size: 10px;">emulator</a> <a href="/tags/english/" style="font-size: 12.22px;">english</a> <a href="/tags/epoll/" style="font-size: 10px;">epoll</a> <a href="/tags/floyd/" style="font-size: 10px;">floyd</a> <a href="/tags/g/" style="font-size: 10px;">g++</a> <a href="/tags/gcc/" style="font-size: 10px;">gcc</a> <a href="/tags/gdb/" style="font-size: 11.11px;">gdb</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/ip/" style="font-size: 11.11px;">ip</a> <a href="/tags/jdbc/" style="font-size: 10px;">jdbc</a> <a href="/tags/kernal/" style="font-size: 10px;">kernal</a> <a href="/tags/life/" style="font-size: 10px;">life</a> <a href="/tags/linus/" style="font-size: 10px;">linus</a> <a href="/tags/linux/" style="font-size: 18.89px;">linux</a> <a href="/tags/linux内核/" style="font-size: 10px;">linux内核</a> <a href="/tags/list/" style="font-size: 10px;">list</a> <a href="/tags/mail服务器/" style="font-size: 10px;">mail服务器</a> <a href="/tags/map/" style="font-size: 11.11px;">map</a> <a href="/tags/md5注入/" style="font-size: 10px;">md5注入</a> <a href="/tags/memory/" style="font-size: 10px;">memory</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/new/" style="font-size: 12.22px;">new</a> <a href="/tags/notes/" style="font-size: 12.22px;">notes</a> <a href="/tags/openstack/" style="font-size: 10px;">openstack</a> <a href="/tags/pam/" style="font-size: 10px;">pam</a> <a href="/tags/patch/" style="font-size: 10px;">patch</a> <a href="/tags/ping/" style="font-size: 10px;">ping</a> <a href="/tags/pip/" style="font-size: 10px;">pip</a> <a href="/tags/poll/" style="font-size: 10px;">poll</a> <a href="/tags/postfix/" style="font-size: 10px;">postfix</a> <a href="/tags/protobuf/" style="font-size: 10px;">protobuf</a> <a href="/tags/qemu/" style="font-size: 10px;">qemu</a> <a href="/tags/queue/" style="font-size: 10px;">queue</a> <a href="/tags/reading/" style="font-size: 20px;">reading</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/rodata/" style="font-size: 10px;">rodata</a> <a href="/tags/select/" style="font-size: 10px;">select</a> <a href="/tags/selinux/" style="font-size: 10px;">selinux</a> <a href="/tags/set/" style="font-size: 10px;">set</a> <a href="/tags/stack/" style="font-size: 10px;">stack</a> <a href="/tags/thought/" style="font-size: 12.22px;">thought</a> <a href="/tags/tinythhpd/" style="font-size: 10px;">tinythhpd</a> <a href="/tags/tinyxml/" style="font-size: 10px;">tinyxml</a> <a href="/tags/tools/" style="font-size: 12.22px;">tools</a> <a href="/tags/tpm/" style="font-size: 10px;">tpm</a> <a href="/tags/traits/" style="font-size: 10px;">traits</a> <a href="/tags/trousers/" style="font-size: 10px;">trousers</a> <a href="/tags/trusted-computing/" style="font-size: 10px;">trusted_computing</a> <a href="/tags/unix编程实践/" style="font-size: 10px;">unix编程实践</a> <a href="/tags/valgrind/" style="font-size: 10px;">valgrind</a> <a href="/tags/vector/" style="font-size: 10px;">vector</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/vs2013/" style="font-size: 10px;">vs2013</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/web服务器/" style="font-size: 10px;">web服务器</a> <a href="/tags/win10/" style="font-size: 10px;">win10</a> <a href="/tags/xml/" style="font-size: 10px;">xml</a> <a href="/tags/yum/" style="font-size: 10px;">yum</a> <a href="/tags/世界上最遥远的距离/" style="font-size: 10px;">世界上最遥远的距离</a> <a href="/tags/个人成长/" style="font-size: 11.11px;">个人成长</a> <a href="/tags/书单/" style="font-size: 12.22px;">书单</a> <a href="/tags/书摘/" style="font-size: 10px;">书摘</a> <a href="/tags/事件驱动/" style="font-size: 10px;">事件驱动</a> <a href="/tags/产品/" style="font-size: 10px;">产品</a> <a href="/tags/代码段/" style="font-size: 10px;">代码段</a> <a href="/tags/优先级/" style="font-size: 10px;">优先级</a> <a href="/tags/位向量/" style="font-size: 10px;">位向量</a> <a href="/tags/位图/" style="font-size: 10px;">位图</a> <a href="/tags/信号/" style="font-size: 10px;">信号</a> <a href="/tags/公钥/" style="font-size: 10px;">公钥</a> <a href="/tags/公钥密码/" style="font-size: 10px;">公钥密码</a> <a href="/tags/内存池/" style="font-size: 10px;">内存池</a> <a href="/tags/内存泄漏/" style="font-size: 10px;">内存泄漏</a> <a href="/tags/内存管理/" style="font-size: 10px;">内存管理</a> <a href="/tags/内核/" style="font-size: 10px;">内核</a> <a href="/tags/内核模块/" style="font-size: 10px;">内核模块</a> <a href="/tags/刘未鹏/" style="font-size: 11.11px;">刘未鹏</a> <a href="/tags/动态规划/" style="font-size: 10px;">动态规划</a> <a href="/tags/区间和/" style="font-size: 10px;">区间和</a> <a href="/tags/单例模式/" style="font-size: 10px;">单例模式</a> <a href="/tags/参考策略/" style="font-size: 10px;">参考策略</a> <a href="/tags/可信计算/" style="font-size: 11.11px;">可信计算</a> <a href="/tags/后台开发/" style="font-size: 10px;">后台开发</a> <a href="/tags/回显服务器/" style="font-size: 10px;">回显服务器</a> <a href="/tags/多线程/" style="font-size: 10px;">多线程</a> <a href="/tags/学习之路/" style="font-size: 10px;">学习之路</a> <a href="/tags/学习计划/" style="font-size: 10px;">学习计划</a> <a href="/tags/容器/" style="font-size: 10px;">容器</a> <a href="/tags/密码体制/" style="font-size: 10px;">密码体制</a> <a href="/tags/密码学/" style="font-size: 12.22px;">密码学</a> <a href="/tags/富爸爸穷爸爸/" style="font-size: 10px;">富爸爸穷爸爸</a> <a href="/tags/对称密码/" style="font-size: 10px;">对称密码</a> <a href="/tags/川藏线/" style="font-size: 10px;">川藏线</a> <a href="/tags/年终总结/" style="font-size: 13.33px;">年终总结</a> <a href="/tags/广告/" style="font-size: 10px;">广告</a> <a href="/tags/异常处理/" style="font-size: 10px;">异常处理</a> <a href="/tags/异步/" style="font-size: 10px;">异步</a> <a href="/tags/心智/" style="font-size: 10px;">心智</a> <a href="/tags/心理学/" style="font-size: 10px;">心理学</a> <a href="/tags/思维导图/" style="font-size: 10px;">思维导图</a> <a href="/tags/思考/" style="font-size: 12.22px;">思考</a> <a href="/tags/总结/" style="font-size: 15.56px;">总结</a> <a href="/tags/我是一只IT小小鸟/" style="font-size: 10px;">我是一只IT小小鸟</a> <a href="/tags/投资/" style="font-size: 10px;">投资</a> <a href="/tags/投资理财/" style="font-size: 11.11px;">投资理财</a> <a href="/tags/指数基金/" style="font-size: 10px;">指数基金</a> <a href="/tags/挑战程序设计竞赛/" style="font-size: 11.11px;">挑战程序设计竞赛</a> <a href="/tags/提问的智慧/" style="font-size: 10px;">提问的智慧</a> <a href="/tags/搜索/" style="font-size: 10px;">搜索</a> <a href="/tags/摄影/" style="font-size: 11.11px;">摄影</a> <a href="/tags/操作系统/" style="font-size: 10px;">操作系统</a> <a href="/tags/数据库/" style="font-size: 12.22px;">数据库</a> <a href="/tags/文本查询/" style="font-size: 10px;">文本查询</a> <a href="/tags/暗时间/" style="font-size: 10px;">暗时间</a> <a href="/tags/最短路径算法/" style="font-size: 10px;">最短路径算法</a> <a href="/tags/析构函数/" style="font-size: 10px;">析构函数</a> <a href="/tags/查理芒格/" style="font-size: 10px;">查理芒格</a> <a href="/tags/毕业旅行/" style="font-size: 10px;">毕业旅行</a> <a href="/tags/汇编/" style="font-size: 10px;">汇编</a> <a href="/tags/汇编语言/" style="font-size: 10px;">汇编语言</a> <a href="/tags/源码阅读/" style="font-size: 12.22px;">源码阅读</a> <a href="/tags/爬虫/" style="font-size: 10px;">爬虫</a> <a href="/tags/理财/" style="font-size: 10px;">理财</a> <a href="/tags/生活随笔/" style="font-size: 10px;">生活随笔</a> <a href="/tags/知识点/" style="font-size: 10px;">知识点</a> <a href="/tags/碎碎念/" style="font-size: 10px;">碎碎念</a> <a href="/tags/私钥/" style="font-size: 10px;">私钥</a> <a href="/tags/秋招/" style="font-size: 10px;">秋招</a> <a href="/tags/程序员/" style="font-size: 11.11px;">程序员</a> <a href="/tags/立flag/" style="font-size: 10px;">立flag</a> <a href="/tags/笔记/" style="font-size: 10px;">笔记</a> <a href="/tags/笔试/" style="font-size: 10px;">笔试</a> <a href="/tags/算法/" style="font-size: 11.11px;">算法</a> <a href="/tags/算法题/" style="font-size: 10px;">算法题</a> <a href="/tags/系统编程/" style="font-size: 11.11px;">系统编程</a> <a href="/tags/红黑树/" style="font-size: 10px;">红黑树</a> <a href="/tags/线段树/" style="font-size: 10px;">线段树</a> <a href="/tags/线程池/" style="font-size: 10px;">线程池</a> <a href="/tags/经历/" style="font-size: 10px;">经历</a> <a href="/tags/网络编程/" style="font-size: 12.22px;">网络编程</a> <a href="/tags/翻译/" style="font-size: 10px;">翻译</a> <a href="/tags/考研/" style="font-size: 10px;">考研</a> <a href="/tags/虚函数/" style="font-size: 10px;">虚函数</a> <a href="/tags/虚基类/" style="font-size: 10px;">虚基类</a> <a href="/tags/计划/" style="font-size: 10px;">计划</a> <a href="/tags/计时器/" style="font-size: 10px;">计时器</a> <a href="/tags/计算机/" style="font-size: 10px;">计算机</a> <a href="/tags/计算机技术/" style="font-size: 10px;">计算机技术</a> <a href="/tags/计算机网络/" style="font-size: 10px;">计算机网络</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a> <a href="/tags/读书/" style="font-size: 10px;">读书</a> <a href="/tags/读书笔记/" style="font-size: 13.33px;">读书笔记</a> <a href="/tags/调试/" style="font-size: 10px;">调试</a> <a href="/tags/进程/" style="font-size: 10px;">进程</a> <a href="/tags/重定向/" style="font-size: 10px;">重定向</a> <a href="/tags/阅读/" style="font-size: 10px;">阅读</a> <a href="/tags/阻塞/" style="font-size: 10px;">阻塞</a> <a href="/tags/面向对象/" style="font-size: 11.11px;">面向对象</a> <a href="/tags/面向过程/" style="font-size: 10px;">面向过程</a> <a href="/tags/预处理/" style="font-size: 10px;">预处理</a> <a href="/tags/骑行/" style="font-size: 10px;">骑行</a> <a href="/tags/黑客与画家/" style="font-size: 10px;">黑客与画家</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2029/11/">November 2029</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2029/11/11/20291111 坚持阅读/">坚持阅读</a>
          </li>
        
          <li>
            <a href="/2022/10/27/20221027 北京香山公园一日游/">北京香山公园一日游</a>
          </li>
        
          <li>
            <a href="/2021/12/31/20211231 2021年终总结/">2021年终总结</a>
          </li>
        
          <li>
            <a href="/2021/10/11/20211011 我的毕业旅行/">我的毕业旅行</a>
          </li>
        
          <li>
            <a href="/2020/12/31/20201231 2020年终总结/">2020年终总结</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">visiters</h3>
    <div class="widget">
      <script type="text/javascript" src="//rf.revolvermaps.com/0/0/8.js?i=534a4dn9fi8&amp;m=0c&amp;c=ff0000&amp;cr1=ffffff&amp;f=ubuntu&amp;l=0&amp;cw=ffffff&amp;cb=000000" async="async"></script>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016-2021 Tao WuSheng<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/links" class="mobile-nav-link">Links</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>




  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script>
    var GUEST_INFO = ['nick','mail','link'];
    var guest_info = 'nick,mail,link'.split(',').filter(function(item){
        return GUEST_INFO.indexOf(item) > -1
    });
    var notify = 'true' == true;
    var verify = 'true' == true;
    new Valine({
        el: '.vcomment',
        notify: notify,
        verify: verify,
        appId: "IwNQge9YG0FIzuQKmRVrBgCL-gzGzoHsz",
        appKey: "IP8hmPLhobMvvjpkfm1OKzuv",
        placeholder: "Please leave your footprints...",
        pageSize:'10',
        avatar:'mm',
        lang:'zh-cn'
    });
</script>

  </div>
</body>
</html>